<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.19) on Tue Jun 06 17:10:01 UTC 2023 -->
<title>TransactionContext (Google Cloud Spanner Parent 6.42.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-06-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionContext (Google Cloud Spanner Parent 6.42.3 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":50,"i1":18,"i2":6,"i3":6,"i4":6,"i5":6,"i6":18,"i7":18,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.google.cloud.spanner</a></div>
<h2 title="Interface TransactionContext" class="title">Interface TransactionContext</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code>, <code><a href="ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">TransactionContext</span>
extends <a href="ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></pre>
<div class="block">Context for a single attempt of a locking read-write transaction. This type of transaction is the
 only way to write data into Cloud Spanner; <a href="DatabaseClient.html#write(java.lang.Iterable)"><code>DatabaseClient.write(Iterable)</code></a> and <a href="DatabaseClient.html#writeAtLeastOnce(java.lang.Iterable)"><code>DatabaseClient.writeAtLeastOnce(Iterable)</code></a> use transactions internally. These transactions rely on
 pessimistic locking and, if necessary, two-phase commit. Locking read-write transactions may
 abort, requiring the application to retry. However, the interface exposed by <a href="TransactionRunner.html" title="interface in com.google.cloud.spanner"><code>TransactionRunner</code></a> eliminates the need for applications to write retry loops explicitly.

 <p>Locking transactions may be used to atomically read-modify-write data anywhere in a database.
 This type of transaction is externally consistent.

 <p>Clients should attempt to minimize the amount of time a transaction is active. Faster
 transactions commit with higher probability and cause less contention. Cloud Spanner attempts to
 keep read locks active as long as the transaction continues to do reads, and the transaction has
 not been terminated by returning from a <a href="TransactionRunner.TransactionCallable.html" title="interface in com.google.cloud.spanner"><code>TransactionRunner.TransactionCallable</code></a>. Long
 periods of inactivity at the client may cause Cloud Spanner to release a transaction's locks and
 abort it.

 <p>Reads performed within a transaction acquire locks on the data being read. Writes can only be
 done at commit time, after all reads have been completed.

 <p>Conceptually, a read-write transaction consists of zero or more reads or SQL queries followed
 by a commit.

 <h3>Semantics</h3>

 <p>Cloud Spanner can commit the transaction if all read locks it acquired are still valid at
 commit time, and it is able to acquire write locks for all writes. Cloud Spanner can abort the
 transaction for any reason. If a commit attempt returns <code>ABORTED</code>, Cloud Spanner guarantees
 that the transaction has not modified any user data in Cloud Spanner.

 <p>Unless the transaction commits, Cloud Spanner makes no guarantees about how long the
 transaction's locks were held for. It is an error to use Cloud Spanner locks for any sort of
 mutual exclusion other than between Cloud Spanner transactions themselves.

 <h3>Retrying Aborted Transactions</h3>

 <p>When a transaction aborts, the application can choose to retry the whole transaction again. To
 maximize the chances of successfully committing the retry, the client should execute the retry in
 the same session as the original attempt. The original session's lock priority increases with
 each consecutive abort, meaning that each attempt has a slightly better chance of success than
 the previous.

 <p>Under some circumstances (e.g., many transactions attempting to modify the same row(s)), a
 transaction can abort many times in a short period before successfully committing. Thus, it is
 not a good idea to cap the number of retries a transaction can attempt; instead, it is better to
 limit the total amount of wall time spent retrying.

 <p>Application code does not need to retry explicitly; <a href="TransactionRunner.html" title="interface in com.google.cloud.spanner"><code>TransactionRunner</code></a> will
 automatically retry a transaction if an attempt results in an abort.

 <h3>Idle Transactions</h3>

 <p>A transaction is considered idle if it has no outstanding reads or SQL queries and has not
 started a read or SQL query within the last 10 seconds. Idle transactions can be aborted by Cloud
 Spanner so that they don't hold on to locks indefinitely. In that case, the commit will fail with
 error <code>ABORTED</code>.

 <p>If this behavior is undesirable, periodically executing a simple SQL query in the transaction
 (e.g., <code>SELECT 1</code>) prevents the transaction from becoming idle.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Session#readWriteTransaction()</code>, 
<a href="TransactionRunner.html" title="interface in com.google.cloud.spanner"><code>TransactionRunner</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.com.google.cloud.spanner.ReadContext">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.google.cloud.spanner.<a href="ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></h3>
<code><a href="ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default <a href="../../spanner/v1/ResultSetStats.html" title="class in com.google.spanner.v1">ResultSetStats</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#analyzeUpdate(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)">analyzeUpdate</a></span>&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
             <a href="ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode,
             <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Use <a href="#analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)"><code>analyzeUpdateStatement(Statement, QueryAnalyzeMode, UpdateOption...)</code></a>
     instead to get both statement plan and parameter metadata</div>
</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default <a href="ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)">analyzeUpdateStatement</a></span>&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                      <a href="ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode,
                      <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Analyzes a DML statement and returns query plan and statement parameter metadata and optionally
 execution statistics information.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#batchUpdate(java.lang.Iterable,com.google.cloud.spanner.Options.UpdateOption...)">batchUpdate</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;statements,
           <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Executes a list of DML statements (which can include simple DML statements or DML statements
 with returning clause) in a single request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;long[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#batchUpdateAsync(java.lang.Iterable,com.google.cloud.spanner.Options.UpdateOption...)">batchUpdateAsync</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;statements,
                <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Same as <code>#batchUpdate(Iterable)</code>, but is guaranteed to be non-blocking.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buffer(com.google.cloud.spanner.Mutation)">buffer</a></span>&#8203;(<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</code></th>
<td class="colLast">
<div class="block">Buffers a single mutation to be applied if the transaction commits successfully.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buffer(java.lang.Iterable)">buffer</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</code></th>
<td class="colLast">
<div class="block">Buffers mutations to be applied if the transaction commits successfully.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>default com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bufferAsync(com.google.cloud.spanner.Mutation)">bufferAsync</a></span>&#8203;(<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</code></th>
<td class="colLast">
<div class="block">Same as <a href="#buffer(com.google.cloud.spanner.Mutation)"><code>buffer(Mutation)</code></a>, but is guaranteed to be non-blocking.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>default com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bufferAsync(java.lang.Iterable)">bufferAsync</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</code></th>
<td class="colLast">
<div class="block">Same as <a href="#buffer(java.lang.Iterable)"><code>buffer(Iterable)</code></a>, but is guaranteed to be non-blocking.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeUpdate(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.UpdateOption...)">executeUpdate</a></span>&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
             <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Executes the DML statement (which can be a simple DML statement or DML statement with a
 returning clause) and returns the number of rows modified.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeUpdateAsync(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.UpdateOption...)">executeUpdateAsync</a></span>&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                  <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Same as <code>#executeUpdate(Statement)</code>, but is guaranteed to be non-blocking.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.google.cloud.spanner.ReadContext">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.google.cloud.spanner.<a href="ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></h3>
<code><a href="ReadContext.html#analyzeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode)">analyzeQuery</a>, <a href="ReadContext.html#close()">close</a>, <a href="ReadContext.html#executeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">executeQuery</a>, <a href="ReadContext.html#executeQueryAsync(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">executeQueryAsync</a>, <a href="ReadContext.html#read(java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">read</a>, <a href="ReadContext.html#readAsync(java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">readAsync</a>, <a href="ReadContext.html#readRow(java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRow</a>, <a href="ReadContext.html#readRowAsync(java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRowAsync</a>, <a href="ReadContext.html#readRowUsingIndex(java.lang.String,java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRowUsingIndex</a>, <a href="ReadContext.html#readRowUsingIndexAsync(java.lang.String,java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRowUsingIndexAsync</a>, <a href="ReadContext.html#readUsingIndex(java.lang.String,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">readUsingIndex</a>, <a href="ReadContext.html#readUsingIndexAsync(java.lang.String,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">readUsingIndexAsync</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="buffer(com.google.cloud.spanner.Mutation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buffer</h4>
<pre class="methodSignature">void&nbsp;buffer&#8203;(<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</pre>
<div class="block">Buffers a single mutation to be applied if the transaction commits successfully. The effects of
 this mutation will not be visible to subsequent operations in the transaction. All buffered
 mutations will be applied atomically.</div>
</li>
</ul>
<a id="bufferAsync(com.google.cloud.spanner.Mutation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferAsync</h4>
<pre class="methodSignature">default&nbsp;com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;bufferAsync&#8203;(<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</pre>
<div class="block">Same as <a href="#buffer(com.google.cloud.spanner.Mutation)"><code>buffer(Mutation)</code></a>, but is guaranteed to be non-blocking.</div>
</li>
</ul>
<a id="buffer(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buffer</h4>
<pre class="methodSignature">void&nbsp;buffer&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</pre>
<div class="block">Buffers mutations to be applied if the transaction commits successfully. The effects of the
 mutations will not be visible to subsequent operations in the transaction. All buffered
 mutations will be applied atomically.</div>
</li>
</ul>
<a id="bufferAsync(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferAsync</h4>
<pre class="methodSignature">default&nbsp;com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;bufferAsync&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</pre>
<div class="block">Same as <a href="#buffer(java.lang.Iterable)"><code>buffer(Iterable)</code></a>, but is guaranteed to be non-blocking.</div>
</li>
</ul>
<a id="executeUpdate(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.UpdateOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUpdate</h4>
<pre class="methodSignature">long&nbsp;executeUpdate&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                   <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</pre>
<div class="block">Executes the DML statement (which can be a simple DML statement or DML statement with a
 returning clause) and returns the number of rows modified. For non-DML statements, it will
 result in an <code>IllegalArgumentException</code>. The effects of the DML statement will be visible
 to subsequent operations in the transaction.</div>
</li>
</ul>
<a id="executeUpdateAsync(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.UpdateOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUpdateAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;&nbsp;executeUpdateAsync&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                                                       <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</pre>
<div class="block">Same as <code>#executeUpdate(Statement)</code>, but is guaranteed to be non-blocking. If multiple
 asynchronous update statements are submitted to the same read/write transaction, the statements
 are guaranteed to be submitted to Cloud Spanner in the order that they were submitted in the
 client. This does however not guarantee that an asynchronous update statement will see the
 results of all previously submitted statements, as the execution of the statements can be
 parallel. If you rely on the results of a previous statement, you should block until the result
 of that statement is known and has been returned to the client.</div>
</li>
</ul>
<a id="analyzeUpdate(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeUpdate</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang" class="externalLink">@Deprecated</a>
default&nbsp;<a href="../../spanner/v1/ResultSetStats.html" title="class in com.google.spanner.v1">ResultSetStats</a>&nbsp;analyzeUpdate&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                                     <a href="ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode,
                                     <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Use <a href="#analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)"><code>analyzeUpdateStatement(Statement, QueryAnalyzeMode, UpdateOption...)</code></a>
     instead to get both statement plan and parameter metadata</div>
</div>
<div class="block">Analyzes a DML statement and returns query plan and/or execution statistics information.

 <p><a href="ReadContext.QueryAnalyzeMode.html#PLAN"><code>ReadContext.QueryAnalyzeMode.PLAN</code></a> only returns the plan for
 the statement. <a href="ReadContext.QueryAnalyzeMode.html#PROFILE"><code>ReadContext.QueryAnalyzeMode.PROFILE</code></a> executes
 the DML statement, returns the modified row count and execution statistics, and the effects of
 the DML statement will be visible to subsequent operations in the transaction.</div>
</li>
</ul>
<a id="analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeUpdateStatement</h4>
<pre class="methodSignature">default&nbsp;<a href="ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a>&nbsp;analyzeUpdateStatement&#8203;(<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                                         <a href="ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode,
                                         <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</pre>
<div class="block">Analyzes a DML statement and returns query plan and statement parameter metadata and optionally
 execution statistics information.

 <p><a href="ReadContext.QueryAnalyzeMode.html#PLAN"><code>ReadContext.QueryAnalyzeMode.PLAN</code></a> only returns the plan and
 parameter metadata for the statement. <a href="ReadContext.QueryAnalyzeMode.html#PROFILE"><code>ReadContext.QueryAnalyzeMode.PROFILE</code></a> executes the DML statement,
 returns the modified row count and execution statistics, and the effects of the DML statement
 will be visible to subsequent operations in the transaction.</div>
</li>
</ul>
<a id="batchUpdate(java.lang.Iterable,com.google.cloud.spanner.Options.UpdateOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchUpdate</h4>
<pre class="methodSignature">long[]&nbsp;batchUpdate&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;statements,
                   <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</pre>
<div class="block">Executes a list of DML statements (which can include simple DML statements or DML statements
 with returning clause) in a single request. The statements will be executed in order and the
 semantics is the same as if each statement is executed by <code>executeUpdate</code> in a loop. This
 method returns an array of long integers, each representing the number of rows modified by each
 statement.

 <p>If an individual statement fails, execution stops and a <code>SpannerBatchUpdateException</code>
 is returned, which includes the error and the number of rows affected by the statements that
 are run prior to the error.

 <p>For example, if statements contains 3 statements, and the 2nd one is not a valid DML. This
 method throws a <code>SpannerBatchUpdateException</code> that contains the error message from the
 2nd statement, and an array of length 1 that contains the number of rows modified by the 1st
 statement. The 3rd statement will not run.</div>
</li>
</ul>
<a id="batchUpdateAsync(java.lang.Iterable,com.google.cloud.spanner.Options.UpdateOption...)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>batchUpdateAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;long[]&gt;&nbsp;batchUpdateAsync&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;statements,
                                                       <a href="Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</pre>
<div class="block">Same as <code>#batchUpdate(Iterable)</code>, but is guaranteed to be non-blocking. If multiple
 asynchronous update statements are submitted to the same read/write transaction, the statements
 are guaranteed to be submitted to Cloud Spanner in the order that they were submitted in the
 client. This does however not guarantee that an asynchronous update statement will see the
 results of all previously submitted statements, as the execution of the statements can be
 parallel. If you rely on the results of a previous statement, you should block until the result
 of that statement is known and has been returned to the client.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 Google LLC. All rights reserved.</small></p>
</footer>
</body>
</html>
