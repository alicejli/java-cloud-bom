<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.19) on Tue Jun 27 21:11:51 UTC 2023 -->
<title>TransactionRunner (Google Cloud Spanner Parent 6.43.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-06-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionRunner (Google Cloud Spanner Parent 6.43.1 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionRunner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.google.cloud.spanner</a></div>
<h2 title="Interface TransactionRunner" class="title">Interface TransactionRunner</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">TransactionRunner</span></pre>
<div class="block">An interface for executing a body of work in the context of a read-write transaction, with
 retries for transaction aborts. See <a href="TransactionContext.html" title="interface in com.google.cloud.spanner"><code>TransactionContext</code></a> for a description of transaction
 semantics. <code>TransactionRunner</code> instances are obtained by calling <code>Session#readWriteTransaction()</code>.

 <p>A <code>TransactionRunner</code> instance can only be used for a single invocation of <a href="#run(com.google.cloud.spanner.TransactionRunner.TransactionCallable)"><code>run(TransactionCallable)</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="TransactionRunner.TransactionCallable.html" title="interface in com.google.cloud.spanner">TransactionRunner.TransactionCallable</a>&lt;<a href="TransactionRunner.TransactionCallable.html" title="type parameter in TransactionRunner.TransactionCallable">T</a>&gt;</span></code></th>
<td class="colLast">
<div class="block">A unit of work to be performed in the context of a transaction.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="TransactionRunner.html" title="interface in com.google.cloud.spanner">TransactionRunner</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allowNestedTransaction()">allowNestedTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Allows overriding the default behaviour of blocking nested transactions.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="CommitResponse.html" title="class in com.google.cloud.spanner">CommitResponse</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommitResponse()">getCommitResponse</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the <a href="CommitResponse.html" title="class in com.google.cloud.spanner"><code>CommitResponse</code></a> of this transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>com.google.cloud.Timestamp</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommitTimestamp()">getCommitTimestamp</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the timestamp at which the transaction committed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run(com.google.cloud.spanner.TransactionRunner.TransactionCallable)">run</a></span>&#8203;(<a href="TransactionRunner.TransactionCallable.html" title="interface in com.google.cloud.spanner">TransactionRunner.TransactionCallable</a>&lt;T&gt;&nbsp;callable)</code></th>
<td class="colLast">
<div class="block">Executes a read-write transaction, with retries as necessary.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="run(com.google.cloud.spanner.TransactionRunner.TransactionCallable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation" class="externalLink">@Nullable</a>
&lt;T&gt;&nbsp;T&nbsp;run&#8203;(<a href="TransactionRunner.TransactionCallable.html" title="interface in com.google.cloud.spanner">TransactionRunner.TransactionCallable</a>&lt;T&gt;&nbsp;callable)</pre>
<div class="block">Executes a read-write transaction, with retries as necessary. The work to perform in each
 transaction attempt is defined by <code>callable</code>, which may return an object as the result of
 the work. <code>callable</code> will be retried if a transaction attempt aborts; implementations
 must be prepared to be called more than once. Any writes buffered by <code>callable</code> will only
 be applied if the transaction commits successfully. Similarly, the value produced by <code>
 callable</code> will only be returned by this method if the transaction commits successfully.

 <p><code>callable</code> is allowed to raise an unchecked exception. Typically this prevents further
 attempts to execute <code>callable</code>, and the exception will propagate from this method call.
 However, if a read or query in <code>callable</code> detected that the transaction aborted, <code>
 callable</code> will be retried even if it raised an exception.</div>
</li>
</ul>
<a id="getCommitTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitTimestamp</h4>
<pre class="methodSignature">com.google.cloud.Timestamp&nbsp;getCommitTimestamp()</pre>
<div class="block">Returns the timestamp at which the transaction committed. This method may only be called once
 <a href="#run(com.google.cloud.spanner.TransactionRunner.TransactionCallable)"><code>run(TransactionCallable)</code></a> has returned normally.</div>
</li>
</ul>
<a id="getCommitResponse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitResponse</h4>
<pre class="methodSignature"><a href="CommitResponse.html" title="class in com.google.cloud.spanner">CommitResponse</a>&nbsp;getCommitResponse()</pre>
<div class="block">Returns the <a href="CommitResponse.html" title="class in com.google.cloud.spanner"><code>CommitResponse</code></a> of this transaction.</div>
</li>
</ul>
<a id="allowNestedTransaction()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>allowNestedTransaction</h4>
<pre class="methodSignature"><a href="TransactionRunner.html" title="interface in com.google.cloud.spanner">TransactionRunner</a>&nbsp;allowNestedTransaction()</pre>
<div class="block">Allows overriding the default behaviour of blocking nested transactions.

 <p>Note that the client library does not maintain any information regarding the nesting
 structure. If an outer transaction fails and an inner transaction succeeds, upon retry of the
 outer transaction, the inner transaction will be re-executed.

 <p>Use with care when certain that the inner transaction is idempotent. Avoid doing this when
 accessing the same db. There might be legitimate uses where access need to be made across DBs
 for instance.

 <p>E.g. of nesting that is discouraged, see <code>nestedReadWriteTxnThrows</code> <code>
 nestedReadOnlyTxnThrows</code>, <code>nestedBatchTxnThrows</code>, <code>nestedSingleUseReadTxnThrows</code></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this object</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionRunner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 Google LLC. All rights reserved.</small></p>
</footer>
</body>
</html>
