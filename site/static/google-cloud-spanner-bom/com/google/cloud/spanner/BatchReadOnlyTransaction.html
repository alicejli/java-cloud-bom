<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.19) on Tue Jun 06 19:05:21 UTC 2023 -->
<title>BatchReadOnlyTransaction (Google Cloud Spanner Parent 6.42.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-06-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BatchReadOnlyTransaction (Google Cloud Spanner Parent 6.42.3 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":18,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BatchReadOnlyTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.google.cloud.spanner</a></div>
<h2 title="Interface BatchReadOnlyTransaction" class="title">Interface BatchReadOnlyTransaction</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code>, <code><a href="ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></code>, <code><a href="ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">BatchReadOnlyTransaction</span>
extends <a href="ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a></pre>
<div class="block"><code>BatchReadOnlyTransaction</code> can be configured to read at timestamps in the past and allows
 for exporting arbitrarily large amounts of data from Cloud Spanner databases. This is a read only
 transaction which additionally allows to partition a read or query request. Read/query request
 can then be executed independently over each partition while observing the same snapshot of the
 database. BatchReadOnlyTransaction can also be shared across multiple processes/machines by
 passing around the BatchTransactionId and then recreating the transaction using <a href="BatchClient.html#batchReadOnlyTransaction(com.google.cloud.spanner.BatchTransactionId)"><code>BatchClient.batchReadOnlyTransaction(BatchTransactionId)</code></a>.

 <p>Unlike locking read-write transactions, BatchReadOnlyTransaction never abort. They can fail if
 the chosen read timestamp is garbage collected; however any read or query activity within an hour
 on the transaction avoids garbage collection and most applications do not need to worry about
 this in practice.

 <p>To execute a BatchReadOnlyTransaction, specify a <a href="TimestampBound.html" title="class in com.google.cloud.spanner"><code>TimestampBound</code></a>, which tells Cloud
 Spanner how to choose a read timestamp.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.com.google.cloud.spanner.ReadContext">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.google.cloud.spanner.<a href="ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></h3>
<code><a href="ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cleanup()">cleanup</a></span>()</code></th>
<td class="colLast">
<div class="block">Closes the session as part of the cleanup.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#execute(com.google.cloud.spanner.Partition)">execute</a></span>&#8203;(<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&nbsp;partition)</code></th>
<td class="colLast">
<div class="block">Execute the partition to return <a href="ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="BatchTransactionId.html" title="class in com.google.cloud.spanner">BatchTransactionId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBatchTransactionId()">getBatchTransactionId</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a <a href="BatchTransactionId.html" title="class in com.google.cloud.spanner"><code>BatchTransactionId</code></a> to be re-used across several machines/processes.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#partitionQuery(com.google.cloud.spanner.PartitionOptions,com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">partitionQuery</a></span>&#8203;(<a href="PartitionOptions.html" title="class in com.google.cloud.spanner">PartitionOptions</a>&nbsp;partitionOptions,
              <a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
              <a href="Options.QueryOption.html" title="interface in com.google.cloud.spanner">Options.QueryOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Returns a list of <a href="Partition.html" title="class in com.google.cloud.spanner"><code>Partition</code></a> to execute a query against the database.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#partitionRead(com.google.cloud.spanner.PartitionOptions,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">partitionRead</a></span>&#8203;(<a href="PartitionOptions.html" title="class in com.google.cloud.spanner">PartitionOptions</a>&nbsp;partitionOptions,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;table,
             <a href="KeySet.html" title="class in com.google.cloud.spanner">KeySet</a>&nbsp;keys,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;columns,
             <a href="Options.ReadOption.html" title="interface in com.google.cloud.spanner">Options.ReadOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Returns a list of <a href="Partition.html" title="class in com.google.cloud.spanner"><code>Partition</code></a> to read zero or more rows from a database.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#partitionReadUsingIndex(com.google.cloud.spanner.PartitionOptions,java.lang.String,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">partitionReadUsingIndex</a></span>&#8203;(<a href="PartitionOptions.html" title="class in com.google.cloud.spanner">PartitionOptions</a>&nbsp;partitionOptions,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;table,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;index,
                       <a href="KeySet.html" title="class in com.google.cloud.spanner">KeySet</a>&nbsp;keys,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;columns,
                       <a href="Options.ReadOption.html" title="interface in com.google.cloud.spanner">Options.ReadOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Returns a list of <a href="Partition.html" title="class in com.google.cloud.spanner"><code>Partition</code></a> to read zero or more rows from a database using an index.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.google.cloud.spanner.ReadContext">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.google.cloud.spanner.<a href="ReadContext.html" title="interface in com.google.cloud.spanner">ReadContext</a></h3>
<code><a href="ReadContext.html#analyzeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode)">analyzeQuery</a>, <a href="ReadContext.html#close()">close</a>, <a href="ReadContext.html#executeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">executeQuery</a>, <a href="ReadContext.html#executeQueryAsync(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">executeQueryAsync</a>, <a href="ReadContext.html#read(java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">read</a>, <a href="ReadContext.html#readAsync(java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">readAsync</a>, <a href="ReadContext.html#readRow(java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRow</a>, <a href="ReadContext.html#readRowAsync(java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRowAsync</a>, <a href="ReadContext.html#readRowUsingIndex(java.lang.String,java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRowUsingIndex</a>, <a href="ReadContext.html#readRowUsingIndexAsync(java.lang.String,java.lang.String,com.google.cloud.spanner.Key,java.lang.Iterable)">readRowUsingIndexAsync</a>, <a href="ReadContext.html#readUsingIndex(java.lang.String,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">readUsingIndex</a>, <a href="ReadContext.html#readUsingIndexAsync(java.lang.String,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">readUsingIndexAsync</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.google.cloud.spanner.ReadOnlyTransaction">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.google.cloud.spanner.<a href="ReadOnlyTransaction.html" title="interface in com.google.cloud.spanner">ReadOnlyTransaction</a></h3>
<code><a href="ReadOnlyTransaction.html#getReadTimestamp()">getReadTimestamp</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="partitionRead(com.google.cloud.spanner.PartitionOptions,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partitionRead</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&gt;&nbsp;partitionRead&#8203;(<a href="PartitionOptions.html" title="class in com.google.cloud.spanner">PartitionOptions</a>&nbsp;partitionOptions,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;table,
                              <a href="KeySet.html" title="class in com.google.cloud.spanner">KeySet</a>&nbsp;keys,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;columns,
                              <a href="Options.ReadOption.html" title="interface in com.google.cloud.spanner">Options.ReadOption</a>...&nbsp;options)
                       throws <a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></pre>
<div class="block">Returns a list of <a href="Partition.html" title="class in com.google.cloud.spanner"><code>Partition</code></a> to read zero or more rows from a database.

 <p>These partitions can be executed across multiple processes, even across different machines.
 The partition size and count hints can be configured using <a href="PartitionOptions.html" title="class in com.google.cloud.spanner"><code>PartitionOptions</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitionOptions</code> - configuration for size and count of partitions returned</dd>
<dd><code>table</code> - the name of the table to read</dd>
<dd><code>keys</code> - the keys and ranges of rows to read. Regardless of ordering in <code>keys</code>, rows
     are returned in their natural key order.</dd>
<dd><code>columns</code> - the columns to read</dd>
<dd><code>options</code> - the options to configure the read, supported values are <a href="Options.html#prefetchChunks()"><code>Options.prefetchChunks()</code></a>
     <!--SNIPPET partition_read-->
     <pre><code>
 final BatchReadOnlyTransaction txn =
     batchClient.batchReadOnlyTransaction(TimestampBound.strong());
 List&lt;Partition&gt; partitions =
     txn.partitionRead(
         PartitionOptions.getDefaultInstance(),
         "Singers",
         KeySet.all(),
         Arrays.asList("SingerId", "FirstName", "LastName"));
 for (final Partition p : partitions) {
   try (ResultSet results = txn.execute(p)) {
     while (results.next()) {
       long singerId = results.getLong(0);
       String firstName = results.getString(1);
       String lastName = results.getString(2);
       System.out.println("[" + singerId + "] " + firstName + " " + lastName);
     }
   }
 }
 </code></pre>
     <!--SNIPPET partition_read--></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code></dd>
</dl>
</li>
</ul>
<a id="partitionReadUsingIndex(com.google.cloud.spanner.PartitionOptions,java.lang.String,java.lang.String,com.google.cloud.spanner.KeySet,java.lang.Iterable,com.google.cloud.spanner.Options.ReadOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partitionReadUsingIndex</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&gt;&nbsp;partitionReadUsingIndex&#8203;(<a href="PartitionOptions.html" title="class in com.google.cloud.spanner">PartitionOptions</a>&nbsp;partitionOptions,
                                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;table,
                                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;index,
                                        <a href="KeySet.html" title="class in com.google.cloud.spanner">KeySet</a>&nbsp;keys,
                                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;columns,
                                        <a href="Options.ReadOption.html" title="interface in com.google.cloud.spanner">Options.ReadOption</a>...&nbsp;options)
                                 throws <a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></pre>
<div class="block">Returns a list of <a href="Partition.html" title="class in com.google.cloud.spanner"><code>Partition</code></a> to read zero or more rows from a database using an index.

 <p>These partitions can be executed across multiple processes, even across different machines.
 The partition size and count can be configured using <a href="PartitionOptions.html" title="class in com.google.cloud.spanner"><code>PartitionOptions</code></a>. Though it may
 not necessarily be honored depending on the parameters in the request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitionOptions</code> - configuration for size and count of partitions returned</dd>
<dd><code>table</code> - the name of the table to read</dd>
<dd><code>index</code> - the name of the index on <code>table</code> to use</dd>
<dd><code>keys</code> - the keys and ranges of index rows to read. Regardless of ordering in <code>keys</code>,
     rows are returned in the natural key order of the index.</dd>
<dd><code>columns</code> - the columns to read</dd>
<dd><code>options</code> - the options to configure the read
     <!--SNIPPET partition_read_using_index-->
     <pre><code>
 final BatchReadOnlyTransaction txn =
     batchClient.batchReadOnlyTransaction(TimestampBound.strong());
 List&lt;Partition&gt; partitions =
     txn.partitionReadUsingIndex(
         PartitionOptions.getDefaultInstance(),
         "Singers",
         "SingerId",
         KeySet.all(),
         Arrays.asList("SingerId", "FirstName", "LastName"));

 for (Partition p : partitions) {
   try (ResultSet results = txn.execute(p)) {
     while (results.next()) {
       long singerId = results.getLong(0);
       String firstName = results.getString(1);
       String lastName = results.getString(2);
       System.out.println("[" + singerId + "] " + firstName + " " + lastName);
     }
   }
 }
 </code></pre>
     <!--SNIPPET partition_read_using_index--></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code></dd>
</dl>
</li>
</ul>
<a id="partitionQuery(com.google.cloud.spanner.PartitionOptions,com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partitionQuery</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&gt;&nbsp;partitionQuery&#8203;(<a href="PartitionOptions.html" title="class in com.google.cloud.spanner">PartitionOptions</a>&nbsp;partitionOptions,
                               <a href="Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                               <a href="Options.QueryOption.html" title="interface in com.google.cloud.spanner">Options.QueryOption</a>...&nbsp;options)
                        throws <a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></pre>
<div class="block">Returns a list of <a href="Partition.html" title="class in com.google.cloud.spanner"><code>Partition</code></a> to execute a query against the database.

 <p>These partitions can be executed across multiple processes, even across different machines.
 The partition size and count can be configured using <a href="PartitionOptions.html" title="class in com.google.cloud.spanner"><code>PartitionOptions</code></a>. Though it may
 not necessarily be honored depending on the query and options in the request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitionOptions</code> - configuration for size and count of partitions returned</dd>
<dd><code>statement</code> - the query statement to execute</dd>
<dd><code>options</code> - the options to configure the query
     <!--SNIPPET partition_query-->
     <pre><code>
 final BatchReadOnlyTransaction txn =
     batchClient.batchReadOnlyTransaction(TimestampBound.strong());
 List&lt;Partition&gt; partitions = txn.partitionQuery(PartitionOptions.getDefaultInstance(),
     Statement.of("SELECT SingerId, FirstName, LastName FROM Singers"));

 for (final Partition p : partitions) {
   try (ResultSet results = txn.execute(p)) {
     while (results.next()) {
       long singerId = results.getLong(0);
       String firstName = results.getString(1);
       String lastName = results.getString(2);
       System.out.println("[" + singerId + "] " + firstName + " " + lastName);
     }
   }
 }
 </code></pre>
     <!--SNIPPET partition_query--></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code></dd>
</dl>
</li>
</ul>
<a id="execute(com.google.cloud.spanner.Partition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre class="methodSignature"><a href="ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a>&nbsp;execute&#8203;(<a href="Partition.html" title="class in com.google.cloud.spanner">Partition</a>&nbsp;partition)
           throws <a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></pre>
<div class="block">Execute the partition to return <a href="ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>. The result returned could be zero or more
 rows. The row metadata may be absent if no rows are returned.
 <!--SNIPPET partition_query-->

 <pre><code>
 final BatchReadOnlyTransaction txn =
     batchClient.batchReadOnlyTransaction(TimestampBound.strong());
 List&lt;Partition&gt; partitions = txn.partitionQuery(PartitionOptions.getDefaultInstance(),
     Statement.of("SELECT SingerId, FirstName, LastName FROM Singers"));

 for (final Partition p : partitions) {
   try (ResultSet results = txn.execute(p)) {
     while (results.next()) {
       long singerId = results.getLong(0);
       String firstName = results.getString(1);
       String lastName = results.getString(2);
       System.out.println("[" + singerId + "] " + firstName + " " + lastName);
     }
   }
 }
 </code></pre>

 <!--SNIPPET partition_query--></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code></dd>
</dl>
</li>
</ul>
<a id="getBatchTransactionId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBatchTransactionId</h4>
<pre class="methodSignature"><a href="BatchTransactionId.html" title="class in com.google.cloud.spanner">BatchTransactionId</a>&nbsp;getBatchTransactionId()</pre>
<div class="block">Returns a <a href="BatchTransactionId.html" title="class in com.google.cloud.spanner"><code>BatchTransactionId</code></a> to be re-used across several machines/processes. This
 BatchTransactionId guarantees the subsequent read/query to be executed at the same timestamp.</div>
</li>
</ul>
<a id="cleanup()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cleanup</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;cleanup()</pre>
<div class="block">Closes the session as part of the cleanup. It is the responsibility of the caller to make a
 call to this method once the transaction completes execution across all the channels (which is
 understandably hard to identify). It is okay if the caller does not call the method because the
 backend will anyways clean up the unused session.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BatchReadOnlyTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 Google LLC. All rights reserved.</small></p>
</footer>
</body>
</html>
