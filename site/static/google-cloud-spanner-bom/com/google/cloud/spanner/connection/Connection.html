<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.19) on Fri Jun 23 18:31:32 UTC 2023 -->
<title>Connection (Google Cloud Spanner Parent 6.42.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-06-23">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Connection (Google Cloud Spanner Parent 6.42.3 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":50,"i4":18,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":18,"i27":18,"i28":18,"i29":6,"i30":6,"i31":6,"i32":18,"i33":6,"i34":18,"i35":6,"i36":6,"i37":6,"i38":18,"i39":6,"i40":6,"i41":6,"i42":6,"i43":6,"i44":6,"i45":6,"i46":6,"i47":6,"i48":6,"i49":6,"i50":6,"i51":6,"i52":6,"i53":6,"i54":6,"i55":6,"i56":6,"i57":6,"i58":6,"i59":18,"i60":6,"i61":6,"i62":6,"i63":6,"i64":6,"i65":18,"i66":6,"i67":18,"i68":6,"i69":6,"i70":18,"i71":6,"i72":6,"i73":6,"i74":6,"i75":6,"i76":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Connection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.google.cloud.spanner.connection</a></div>
<h2 title="Interface Connection" class="title">Interface Connection</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code></dd>
</dl>
<hr>
<pre>@InternalApi
public interface <span class="typeNameLabel">Connection</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></pre>
<div class="block">Internal connection API for Google Cloud Spanner. This interface may introduce breaking changes
 without prior notice.

 <p>A connection to a Cloud Spanner database. Connections are not designed to be thread-safe. The
 only exception is the <a href="#cancel()"><code>cancel()</code></a> method that may be called by any other thread
 to stop the execution of the current statement on the connection.

 <p>All -Async methods on <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> are guaranteed to be executed in the order that they
 are issued on the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>. Mixing synchronous and asynchronous method calls is also
 supported, and these are also guaranteed to be executed in the order that they are issued.

 <p>Connections accept a number of additional SQL statements for setting or changing the state of
 a <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>. These statements can only be executed using the <a href="#execute(com.google.cloud.spanner.Statement)"><code>execute(Statement)</code></a> method:

 <ul>
   <li><code>SHOW AUTOCOMMIT</code>: Returns the current value of <code>AUTOCOMMIT</code> of this
       connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>SET AUTOCOMMIT=TRUE|FALSE</code>: Sets the value of <code>AUTOCOMMIT</code> for this
       connection
   <li><code>SHOW READONLY</code>: Returns the current value of <code>READONLY</code> of this
       connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>SET READONLY=TRUE|FALSE</code>: Sets the value of <code>READONLY</code> for this
       connection
   <li><code>SHOW RETRY_ABORTS_INTERNALLY</code>: Returns the current value of <code>
       RETRY_ABORTS_INTERNALLY</code> of this connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>SET RETRY_ABORTS_INTERNALLY=TRUE|FALSE</code>: Sets the value of <code>
       RETRY_ABORTS_INTERNALLY</code> for this connection
   <li><code>SHOW AUTOCOMMIT_DML_MODE</code>: Returns the current value of <code>
       AUTOCOMMIT_DML_MODE</code> of this connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>SET AUTOCOMMIT_DML_MODE='TRANSACTIONAL' | 'PARTITIONED_NON_ATOMIC'</code>: Sets the
       value of <code>AUTOCOMMIT_DML_MODE</code> for this connection
   <li><code>SHOW STATEMENT_TIMEOUT</code>: Returns the current value of <code>STATEMENT_TIMEOUT
       </code> of this connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>SET STATEMENT_TIMEOUT='&lt;int64&gt;s|ms|us|ns' | NULL</code>: Sets the value of
       <code>STATEMENT_TIMEOUT</code> for this connection. The supported <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit</code></a>s are:
       <ul>
         <li>s - Seconds
         <li>ms - Milliseconds
         <li>us - Microseconds
         <li>ns - Nanoseconds
       </ul>
       Setting the STATEMENT_TIMEOUT to NULL will clear the value for the STATEMENT_TIMEOUT on the
       connection.
   <li><code>SHOW READ_TIMESTAMP</code>: Returns the last <code>READ_TIMESTAMP</code> of this
       connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>SHOW COMMIT_TIMESTAMP</code>: Returns the last <code>COMMIT_TIMESTAMP</code> of this
       connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>SHOW READ_ONLY_STALENESS</code>: Returns the current value of <code>
       READ_ONLY_STALENESS</code> of this connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>
       SET READ_ONLY_STALENESS='STRONG' | 'MIN_READ_TIMESTAMP &lt;timestamp&gt;' | 'READ_TIMESTAMP &lt;timestamp&gt;' | 'MAX_STALENESS &lt;int64&gt;s|ms|mus|ns' | 'EXACT_STALENESS (&lt;int64&gt;s|ms|mus|ns)'
       </code>: Sets the value of <code>READ_ONLY_STALENESS</code> for this connection.
   <li><code>SHOW OPTIMIZER_VERSION</code>: Returns the current value of <code>
       OPTIMIZER_VERSION</code> of this connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>
       SET OPTIMIZER_VERSION='&lt;version&gt;' | 'LATEST'
       </code>: Sets the value of <code>OPTIMIZER_VERSION</code> for this connection.
   <li><code>SHOW OPTIMIZER_STATISTICS_PACKAGE</code>: Returns the current value of <code>
       OPTIMIZER_STATISTICS_PACKAGE</code> of this connection as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
   <li><code>
       SET OPTIMIZER_STATISTICS_PACKAGE='&lt;package&gt;' | ''
       </code>: Sets the value of <code>OPTIMIZER_STATISTICS_PACKAGE</code> for this connection.
   <li><code>BEGIN [TRANSACTION]</code>: Begins a new transaction. This statement is optional when
       the connection is not in autocommit mode, as a new transaction will automatically be
       started when a query or update statement is issued. In autocommit mode, this statement will
       temporarily put the connection in transactional mode, and return the connection to
       autocommit mode when <code>COMMIT [TRANSACTION]</code> or <code>ROLLBACK [TRANSACTION]
       </code> is executed
   <li><code>COMMIT [TRANSACTION]</code>: Commits the current transaction
   <li><code>ROLLBACK [TRANSACTION]</code>: Rollbacks the current transaction
   <li><code>SET TRANSACTION READ ONLY|READ WRITE</code>: Sets the type for the current
       transaction. May only be executed before a transaction is actually running (i.e. before any
       statements have been executed in the transaction)
   <li><code>START BATCH DDL</code>: Starts a batch of DDL statements. May only be executed when
       no transaction has been started and the connection is in read/write mode. The connection
       will only accept DDL statements while a DDL batch is active.
   <li><code>START BATCH DML</code>: Starts a batch of DML statements. May only be executed when
       the connection is in read/write mode. The connection will only accept DML statements while
       a DML batch is active.
   <li><code>RUN BATCH</code>: Ends the current batch, sends the batched DML or DDL statements to
       Spanner and blocks until all statements have been executed or an error occurs. May only be
       executed when a (possibly empty) batch is active. The statement will return the update
       counts of the batched statements as <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a> with an ARRAY&lt;INT64&gt; column. In
       case of a DDL batch, this array will always be empty.
   <li><code>ABORT BATCH</code>: Ends the current batch and removes any DML or DDL statements from
       the buffer without sending any statements to Spanner. May only be executed when a (possibly
       empty) batch is active.
 </ul>

 Note that Cloud Spanner could abort read/write transactions in the background, and that
 <strong>any</strong> database call during a read/write transaction could fail with an <a href="../AbortedException.html" title="class in com.google.cloud.spanner"><code>AbortedException</code></a>. This also includes calls to <a href="../ResultSet.html#next()"><code>ResultSet.next()</code></a>.

 <p>If <a href="#isRetryAbortsInternally()"><code>isRetryAbortsInternally()</code></a> is <code>true</code>, then the connection will
 silently handle any <a href="../AbortedException.html" title="class in com.google.cloud.spanner"><code>AbortedException</code></a>s by internally re-acquiring all transactional locks
 and verifying (via the use of cryptographic checksums) that no underlying data has changed. If a
 change to the underlying data is detected, then an <a href="../AbortedDueToConcurrentModificationException.html" title="class in com.google.cloud.spanner"><code>AbortedDueToConcurrentModificationException</code></a> error will be thrown. If your application already
 uses retry loops to handle these Aborted errors, then it will be most efficient to set <a href="#isRetryAbortsInternally()"><code>isRetryAbortsInternally()</code></a> to <code>false</code>.

 <p>Use <a href="ConnectionOptions.html" title="class in com.google.cloud.spanner.connection"><code>ConnectionOptions</code></a> to create a <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Connection.InternalMetadataQuery.html" title="class in com.google.cloud.spanner.connection">Connection.InternalMetadataQuery</a></span></code></th>
<td class="colLast">
<div class="block">This query option is used internally to indicate that a query is executed by the library itself
 to fetch metadata.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#abortBatch()">abortBatch</a></span>()</code></th>
<td class="colLast">
<div class="block">Clears all buffered statements in the current batch and ends the batch.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addTransactionRetryListener(com.google.cloud.spanner.connection.TransactionRetryListener)">addTransactionRetryListener</a></span>&#8203;(<a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection">TransactionRetryListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Add a <a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection"><code>TransactionRetryListener</code></a> to this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> for testing and logging
 purposes.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#analyzeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode)">analyzeQuery</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;query,
            <a href="../ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;queryMode)</code></th>
<td class="colLast">
<div class="block">Analyzes a query or a DML statement and returns query plan and/or query execution statistics
 information.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>default <a href="../../../spanner/v1/ResultSetStats.html" title="class in com.google.spanner.v1">ResultSetStats</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#analyzeUpdate(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode)">analyzeUpdate</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;update,
             <a href="../ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Use <a href="#analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)"><code>analyzeUpdateStatement(Statement, QueryAnalyzeMode, UpdateOption...)</code></a>
     instead</div>
</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>default <a href="../ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)">analyzeUpdateStatement</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                      <a href="../ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode,
                      <a href="../Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Analyzes a DML statement and returns execution plan, undeclared parameters and optionally
 execution statistics information.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#beginTransaction()">beginTransaction</a></span>()</code></th>
<td class="colLast">
<div class="block">Begins a new transaction for this connection.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#beginTransactionAsync()">beginTransactionAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Begins a new transaction for this connection.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bufferedWrite(com.google.cloud.spanner.Mutation)">bufferedWrite</a></span>&#8203;(<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</code></th>
<td class="colLast">
<div class="block">Buffers the given mutation locally on the current transaction of this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bufferedWrite(java.lang.Iterable)">bufferedWrite</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</code></th>
<td class="colLast">
<div class="block">Buffers the given mutations locally on the current transaction of this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cancel()">cancel</a></span>()</code></th>
<td class="colLast">
<div class="block">Cancels the currently running statement on this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> (if any).</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearStatementTimeout()">clearStatementTimeout</a></span>()</code></th>
<td class="colLast">
<div class="block">Clears the statement timeout value for this connection.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Closes this connection.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#closeAsync()">closeAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Closes this connection without blocking.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commit()">commit</a></span>()</code></th>
<td class="colLast">
<div class="block">Commits the current transaction of this connection.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commitAsync()">commitAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Commits the current transaction of this connection.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="StatementResult.html" title="interface in com.google.cloud.spanner.connection">StatementResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#execute(com.google.cloud.spanner.Statement)">execute</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement)</code></th>
<td class="colLast">
<div class="block">Executes the given statement if allowed in the current <a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection"><code>TransactionMode</code></a> and connection
 state.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="AsyncStatementResult.html" title="interface in com.google.cloud.spanner.connection">AsyncStatementResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeAsync(com.google.cloud.spanner.Statement)">executeAsync</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement)</code></th>
<td class="colLast">
<div class="block">Executes the given statement if allowed in the current <a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection"><code>TransactionMode</code></a> and connection
 state asynchronously.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>long[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeBatchUpdate(java.lang.Iterable)">executeBatchUpdate</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;updates)</code></th>
<td class="colLast">
<div class="block">Executes a list of DML statements (can be simple DML statements or DML statements with
 returning clause) in a single request.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;long[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeBatchUpdateAsync(java.lang.Iterable)">executeBatchUpdateAsync</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;updates)</code></th>
<td class="colLast">
<div class="block">Executes a list of DML statements (can be simple DML statements or DML statements with
 returning clause) in a single request.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">executeQuery</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;query,
            <a href="../Options.QueryOption.html" title="interface in com.google.cloud.spanner">Options.QueryOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Executes the given statement (a query or a DML statement with returning clause) and returns the
 result as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../AsyncResultSet.html" title="interface in com.google.cloud.spanner">AsyncResultSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeQueryAsync(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">executeQueryAsync</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;query,
                 <a href="../Options.QueryOption.html" title="interface in com.google.cloud.spanner">Options.QueryOption</a>...&nbsp;options)</code></th>
<td class="colLast">
<div class="block">Executes the given statement (a query or a DML statement with returning clause) asynchronously
 and returns the result as an <a href="../AsyncResultSet.html" title="interface in com.google.cloud.spanner"><code>AsyncResultSet</code></a>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeUpdate(com.google.cloud.spanner.Statement)">executeUpdate</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;update)</code></th>
<td class="colLast">
<div class="block">Executes the given statement as a simple DML statement.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeUpdateAsync(com.google.cloud.spanner.Statement)">executeUpdateAsync</a></span>&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;update)</code></th>
<td class="colLast">
<div class="block">Executes the given statement asynchronously as a simple DML statement.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="AutocommitDmlMode.html" title="enum in com.google.cloud.spanner.connection">AutocommitDmlMode</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAutocommitDmlMode()">getAutocommitDmlMode</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../CommitResponse.html" title="class in com.google.cloud.spanner">CommitResponse</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommitResponse()">getCommitResponse</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>com.google.cloud.Timestamp</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommitTimestamp()">getCommitTimestamp</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>default <a href="../DatabaseClient.html" title="interface in com.google.cloud.spanner">DatabaseClient</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDatabaseClient()">getDatabaseClient</a></span>()</code></th>
<td class="colLast">
<div class="block">The <a href="../DatabaseClient.html" title="interface in com.google.cloud.spanner"><code>DatabaseClient</code></a> that is used by this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>default <a href="../Dialect.html" title="enum in com.google.cloud.spanner">Dialect</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDialect()">getDialect</a></span>()</code></th>
<td class="colLast">
<div class="block">The <a href="../Dialect.html" title="enum in com.google.cloud.spanner"><code>Dialect</code></a> that is used by this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOptimizerStatisticsPackage()">getOptimizerStatisticsPackage</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the current query optimizer statistics package of this connection.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOptimizerVersion()">getOptimizerVersion</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the current query optimizer version of this connection.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="../TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReadOnlyStaleness()">getReadOnlyStaleness</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>com.google.cloud.Timestamp</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReadTimestamp()">getReadTimestamp</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the read timestamp of the current/last <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
 transaction, or the read timestamp of the last query in autocommit mode.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>default <a href="../Options.RpcPriority.html" title="enum in com.google.cloud.spanner">Options.RpcPriority</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRPCPriority()">getRPCPriority</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the current RPC priority of this connection.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="SavepointSupport.html" title="enum in com.google.cloud.spanner.connection">SavepointSupport</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSavepointSupport()">getSavepointSupport</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current savepoint support for this connection.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStatementTag()">getStatementTag</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStatementTimeout(java.util.concurrent.TimeUnit)">getStatementTimeout</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code><a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection">TransactionMode</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransactionMode()">getTransactionMode</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util" class="externalLink">Iterator</a>&lt;<a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection">TransactionRetryListener</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransactionRetryListeners()">getTransactionRetryListeners</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransactionTag()">getTransactionTag</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasStatementTimeout()">hasStatementTimeout</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAutocommit()">isAutocommit</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isClosed()">isClosed</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isDdlBatchActive()">isDdlBatchActive</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isDmlBatchActive()">isDmlBatchActive</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isInTransaction()">isInTransaction</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isReadOnly()">isReadOnly</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isRetryAbortsInternally()">isRetryAbortsInternally</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isReturnCommitStats()">isReturnCommitStats</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isTransactionStarted()">isTransactionStarted</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#releaseSavepoint(java.lang.String)">releaseSavepoint</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Releases the savepoint with the given name.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeTransactionRetryListener(com.google.cloud.spanner.connection.TransactionRetryListener)">removeTransactionRetryListener</a></span>&#8203;(<a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection">TransactionRetryListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Removes one existing <a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection"><code>TransactionRetryListener</code></a> from this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>, if it is
 present (optional operation).</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollback()">rollback</a></span>()</code></th>
<td class="colLast">
<div class="block">Rollbacks the current transaction of this connection.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollbackAsync()">rollbackAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Rollbacks the current transaction of this connection.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollbackToSavepoint(java.lang.String)">rollbackToSavepoint</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Rolls back to the given savepoint.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>long[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#runBatch()">runBatch</a></span>()</code></th>
<td class="colLast">
<div class="block">Sends all buffered DML or DDL statements of the current batch to the database, waits for these
 to be executed and ends the current batch.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;long[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#runBatchAsync()">runBatchAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Sends all buffered DML or DDL statements of the current batch to the database, waits for these
 to be executed and ends the current batch.</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#savepoint(java.lang.String)">savepoint</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Creates a savepoint with the given name.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAutocommit(boolean)">setAutocommit</a></span>&#8203;(boolean&nbsp;autocommit)</code></th>
<td class="colLast">
<div class="block">Sets autocommit on/off for this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAutocommitDmlMode(com.google.cloud.spanner.connection.AutocommitDmlMode)">setAutocommitDmlMode</a></span>&#8203;(<a href="AutocommitDmlMode.html" title="enum in com.google.cloud.spanner.connection">AutocommitDmlMode</a>&nbsp;mode)</code></th>
<td class="colLast">
<div class="block">Sets the mode for executing DML statements in autocommit mode for this connection.</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setOptimizerStatisticsPackage(java.lang.String)">setOptimizerStatisticsPackage</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;optimizerStatisticsPackage)</code></th>
<td class="colLast">
<div class="block">Sets the query optimizer statistics package</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setOptimizerVersion(java.lang.String)">setOptimizerVersion</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;optimizerVersion)</code></th>
<td class="colLast">
<div class="block">Sets the query optimizer version to use for this connection.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setReadOnly(boolean)">setReadOnly</a></span>&#8203;(boolean&nbsp;readOnly)</code></th>
<td class="colLast">
<div class="block">Sets this connection to read-only or read-write.</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setReadOnlyStaleness(com.google.cloud.spanner.TimestampBound)">setReadOnlyStaleness</a></span>&#8203;(<a href="../TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;staleness)</code></th>
<td class="colLast">
<div class="block">Sets the staleness to use for the current read-only transaction.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRetryAbortsInternally(boolean)">setRetryAbortsInternally</a></span>&#8203;(boolean&nbsp;retryAbortsInternally)</code></th>
<td class="colLast">
<div class="block">Sets whether this connection will internally retry read/write transactions that abort.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setReturnCommitStats(boolean)">setReturnCommitStats</a></span>&#8203;(boolean&nbsp;returnCommitStats)</code></th>
<td class="colLast">
<div class="block">Sets whether this connection should request commit statistics from Cloud Spanner for read/write
 transactions and DML statements in autocommit mode.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRPCPriority(com.google.cloud.spanner.Options.RpcPriority)">setRPCPriority</a></span>&#8203;(<a href="../Options.RpcPriority.html" title="enum in com.google.cloud.spanner">Options.RpcPriority</a>&nbsp;rpcPriority)</code></th>
<td class="colLast">
<div class="block">Sets the priority to use for RPCs executed by this connection..</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSavepointSupport(com.google.cloud.spanner.connection.SavepointSupport)">setSavepointSupport</a></span>&#8203;(<a href="SavepointSupport.html" title="enum in com.google.cloud.spanner.connection">SavepointSupport</a>&nbsp;savepointSupport)</code></th>
<td class="colLast">
<div class="block">Sets how savepoints should be supported on this connection.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStatementTag(java.lang.String)">setStatementTag</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag)</code></th>
<td class="colLast">
<div class="block">Sets the statement tag to use for the next statement that is executed.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setStatementTimeout(long,java.util.concurrent.TimeUnit)">setStatementTimeout</a></span>&#8203;(long&nbsp;timeout,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</code></th>
<td class="colLast">
<div class="block">Sets the duration the connection should wait before automatically aborting the execution of a
 statement.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTransactionMode(com.google.cloud.spanner.connection.TransactionMode)">setTransactionMode</a></span>&#8203;(<a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection">TransactionMode</a>&nbsp;transactionMode)</code></th>
<td class="colLast">
<div class="block">Sets the transaction mode to use for current transaction.</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTransactionTag(java.lang.String)">setTransactionTag</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag)</code></th>
<td class="colLast">
<div class="block">Sets the transaction tag to use for the current transaction.</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startBatchDdl()">startBatchDdl</a></span>()</code></th>
<td class="colLast">
<div class="block">Starts a new DDL batch on this connection.</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startBatchDml()">startBatchDml</a></span>()</code></th>
<td class="colLast">
<div class="block">Starts a new DML batch on this connection.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#write(com.google.cloud.spanner.Mutation)">write</a></span>&#8203;(<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</code></th>
<td class="colLast">
<div class="block">Writes the specified mutation directly to the database and commits the change.</div>
</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#write(java.lang.Iterable)">write</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</code></th>
<td class="colLast">
<div class="block">Writes the specified mutations directly to the database and commits the changes.</div>
</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeAsync(com.google.cloud.spanner.Mutation)">writeAsync</a></span>&#8203;(<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</code></th>
<td class="colLast">
<div class="block">Writes the specified mutation directly to the database and commits the change.</div>
</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeAsync(java.lang.Iterable)">writeAsync</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</code></th>
<td class="colLast">
<div class="block">Writes the specified mutations directly to the database and commits the changes.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">void&nbsp;close()</pre>
<div class="block">Closes this connection. This is a no-op if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> has already been closed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang" class="externalLink">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang" class="externalLink">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
<a id="closeAsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;closeAsync()</pre>
<div class="block">Closes this connection without blocking. This is a no-op if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> has already
 been closed. The <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is no longer usable directly after calling this method. The
 returned <code>ApiFuture</code> is done when the running statement(s) (if any) on the connection
 have finished.</div>
</li>
</ul>
<a id="isClosed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosed</h4>
<pre class="methodSignature">boolean&nbsp;isClosed()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this connection has been closed.</dd>
</dl>
</li>
</ul>
<a id="setAutocommit(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutocommit</h4>
<pre class="methodSignature">void&nbsp;setAutocommit&#8203;(boolean&nbsp;autocommit)</pre>
<div class="block">Sets autocommit on/off for this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>. Connections in autocommit mode will apply
 any changes to the database directly without waiting for an explicit commit. DDL- and DML
 statements as well as <a href="../Mutation.html" title="class in com.google.cloud.spanner"><code>Mutation</code></a>s are sent directly to Spanner, and committed
 automatically unless the statement caused an error. The statement is retried in case of an
 <a href="../AbortedException.html" title="class in com.google.cloud.spanner"><code>AbortedException</code></a>. All other errors will cause the underlying transaction to be rolled
 back.

 <p>A <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> that is in autocommit and read/write mode will allow all types of
 statements: Queries, DML, DDL, and Mutations (writes). If the connection is in read-only mode,
 only queries will be allowed.

 <p><a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>s in autocommit mode may also accept partitioned DML statements. See
 <a href="#setAutocommitDmlMode(com.google.cloud.spanner.connection.AutocommitDmlMode)"><code>setAutocommitDmlMode(AutocommitDmlMode)</code></a> for more information.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>autocommit</code> - true/false to turn autocommit on/off</dd>
</dl>
</li>
</ul>
<a id="isAutocommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAutocommit</h4>
<pre class="methodSignature">boolean&nbsp;isAutocommit()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this connection is in autocommit mode</dd>
</dl>
</li>
</ul>
<a id="setReadOnly(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadOnly</h4>
<pre class="methodSignature">void&nbsp;setReadOnly&#8203;(boolean&nbsp;readOnly)</pre>
<div class="block">Sets this connection to read-only or read-write. This method may only be called when no
 transaction is active. A connection that is in read-only mode, will never allow any kind of
 changes to the database to be submitted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>readOnly</code> - true/false to turn read-only mode on/off</dd>
</dl>
</li>
</ul>
<a id="isReadOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadOnly</h4>
<pre class="methodSignature">boolean&nbsp;isReadOnly()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this connection is in read-only mode</dd>
</dl>
</li>
</ul>
<a id="setStatementTimeout(long,java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStatementTimeout</h4>
<pre class="methodSignature">void&nbsp;setStatementTimeout&#8203;(long&nbsp;timeout,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</pre>
<div class="block">Sets the duration the connection should wait before automatically aborting the execution of a
 statement. The default is no timeout. Statement timeouts are applied all types of statements,
 both in autocommit and transactional mode. They also apply to <a href="#commit()"><code>commit()</code></a> and
 <a href="#rollback()"><code>rollback()</code></a> statements.

 <p>A DML statement in autocommit mode may or may not have actually been applied to the
 database, depending on when the timeout occurred.

 <p>A DML statement in a transaction that times out may still have been applied to the
 transaction. If you still decide to commit the transaction after such a timeout, the DML
 statement may or may not have been part of the transaction, depending on whether the timeout
 occurred before or after the statement was (successfully) sent to Spanner. You should therefore
 either always rollback a transaction that had a DML statement that timed out, or you should
 accept that the timed out statement still might have been applied to the database.

 <p>DDL statements and DML statements in <a href="AutocommitDmlMode.html#PARTITIONED_NON_ATOMIC"><code>AutocommitDmlMode.PARTITIONED_NON_ATOMIC</code></a> mode
 cannot be rolled back. If such a statement times out, it may or may not have been applied to
 the database. The same applies to commit and rollback statements.

 <p>Statements that time out will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> with error code <a href="../ErrorCode.html#DEADLINE_EXCEEDED"><code>ErrorCode.DEADLINE_EXCEEDED</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - The number of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit</code></a>s before a statement is automatically aborted by
     the connection. Zero or negative values are not allowed. The maximum allowed value is
     315,576,000,000 seconds. Use <a href="#clearStatementTimeout()"><code>clearStatementTimeout()</code></a> to remove a timeout
     value that has been set.</dd>
<dd><code>unit</code> - The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit</code></a> to specify the timeout value in. Must be one of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#NANOSECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.NANOSECONDS</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#MICROSECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.MICROSECONDS</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#MILLISECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.MILLISECONDS</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#SECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.SECONDS</code></a>.</dd>
</dl>
</li>
</ul>
<a id="clearStatementTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearStatementTimeout</h4>
<pre class="methodSignature">void&nbsp;clearStatementTimeout()</pre>
<div class="block">Clears the statement timeout value for this connection. This is a no-op if there is currently
 no statement timeout set on this connection.</div>
</li>
</ul>
<a id="getStatementTimeout(java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatementTimeout</h4>
<pre class="methodSignature">long&nbsp;getStatementTimeout&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">TimeUnit</a>&nbsp;unit)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>unit</code> - The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit</code></a> to get the timeout value in. Must be one of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#NANOSECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.NANOSECONDS</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#MICROSECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.MICROSECONDS</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#MILLISECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.MILLISECONDS</code></a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true#SECONDS" title="class or interface in java.util.concurrent" class="externalLink"><code>TimeUnit.SECONDS</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current statement timeout value or 0 if no timeout value has been set.</dd>
</dl>
</li>
</ul>
<a id="hasStatementTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasStatementTimeout</h4>
<pre class="methodSignature">boolean&nbsp;hasStatementTimeout()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> has a statement timeout value.</dd>
</dl>
</li>
</ul>
<a id="cancel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre class="methodSignature">void&nbsp;cancel()</pre>
<div class="block">Cancels the currently running statement on this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> (if any). If canceling the
 statement execution succeeds, the statement will be terminated and a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>
 with code <a href="../ErrorCode.html#CANCELLED"><code>ErrorCode.CANCELLED</code></a> will be thrown. The result of the statement will be the
 same as when a statement times out (see <a href="#setStatementTimeout(long,java.util.concurrent.TimeUnit)"><code>setStatementTimeout(long, TimeUnit)</code></a>
 for more information).

 <p>Canceling a DDL statement in autocommit mode or a RUN BATCH statement of a DDL batch will
 cause the connection to try to cancel the execution of the DDL statement(s). This is not
 guaranteed to cancel the execution of the statement(s) on Cloud Spanner. See
 https://cloud.google.com/spanner/docs/reference/rpc/google.longrunning#google.longrunning.Operations.CancelOperation
 for more information.

 <p>Canceling a DML statement that is running in <a href="AutocommitDmlMode.html#PARTITIONED_NON_ATOMIC"><code>AutocommitDmlMode.PARTITIONED_NON_ATOMIC</code></a> mode will not cancel a statement on Cloud Spanner
 that is already being executed, and its effects will still be applied to the database.</div>
</li>
</ul>
<a id="beginTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginTransaction</h4>
<pre class="methodSignature">void&nbsp;beginTransaction()</pre>
<div class="block">Begins a new transaction for this connection.

 <ul>
   <li>Calling this method on a connection that has no transaction and that is
       <strong>not</strong> in autocommit mode, will register a new transaction that has not yet
       started on this connection
   <li>Calling this method on a connection that has no transaction and that <strong>is</strong>
       in autocommit mode, will register a new transaction that has not yet started on this
       connection, and temporarily turn off autocommit mode until the next commit/rollback
   <li>Calling this method on a connection that already has a transaction that has not yet
       started, will cause a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>
   <li>Calling this method on a connection that already has a transaction that has started, will
       cause a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> (no nested transactions)
 </ul></div>
</li>
</ul>
<a id="beginTransactionAsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginTransactionAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;beginTransactionAsync()</pre>
<div class="block">Begins a new transaction for this connection. This method is guaranteed to be non-blocking. The
 returned <code>ApiFuture</code> will be done when the transaction has been initialized.

 <ul>
   <li>Calling this method on a connection that has no transaction and that is
       <strong>not</strong> in autocommit mode, will register a new transaction that has not yet
       started on this connection
   <li>Calling this method on a connection that has no transaction and that <strong>is</strong>
       in autocommit mode, will register a new transaction that has not yet started on this
       connection, and temporarily turn off autocommit mode until the next commit/rollback
   <li>Calling this method on a connection that already has a transaction that has not yet
       started, will cause a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>
   <li>Calling this method on a connection that already has a transaction that has started, will
       cause a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> (no nested transactions)
 </ul></div>
</li>
</ul>
<a id="setTransactionMode(com.google.cloud.spanner.connection.TransactionMode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionMode</h4>
<pre class="methodSignature">void&nbsp;setTransactionMode&#8203;(<a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection">TransactionMode</a>&nbsp;transactionMode)</pre>
<div class="block">Sets the transaction mode to use for current transaction. This method may only be called when
 in a transaction, and before the transaction is actually started, i.e. before any statements
 have been executed in the transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionMode</code> - The transaction mode to use for the current transaction.
     <ul>
       <li><a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a> will create a read-only transaction and
           prevent any changes to written to the database through this transaction. The read
           timestamp to be used will be determined based on the current readOnlyStaleness
           setting of this connection. It is recommended to use <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a> instead of <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> when possible, as read-only transactions do
           not acquire locks on Cloud Spanner, and read-only transactions never abort.
       <li><a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> this value is only allowed when the
           connection is not in read-only mode and will create a read-write transaction. If
           <a href="#isRetryAbortsInternally()"><code>isRetryAbortsInternally()</code></a> is <code>true</code>, each read/write
           transaction will keep track of a running SHA256 checksum for each <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>
           that is returned in order to be able to retry the transaction in case the transaction
           is aborted by Spanner.
     </ul></dd>
</dl>
</li>
</ul>
<a id="getTransactionMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionMode</h4>
<pre class="methodSignature"><a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection">TransactionMode</a>&nbsp;getTransactionMode()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the transaction mode of the current transaction. This method may only be called when
     the connection is in a transaction.</dd>
</dl>
</li>
</ul>
<a id="setTransactionTag(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionTag</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;setTransactionTag&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag)</pre>
<div class="block">Sets the transaction tag to use for the current transaction. This method may only be called
 when in a transaction and before any statements have been executed in the transaction.

 <p>The tag will be set as the transaction tag of all statements during the transaction, and as
 the transaction tag of the commit.

 <p>The transaction tag will automatically be cleared after the transaction has ended.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tag</code> - The tag to use.</dd>
</dl>
</li>
</ul>
<a id="getTransactionTag()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionTag</h4>
<pre class="methodSignature">default&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getTransactionTag()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The transaction tag of the current transaction.</dd>
</dl>
</li>
</ul>
<a id="setStatementTag(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStatementTag</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;setStatementTag&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;tag)</pre>
<div class="block">Sets the statement tag to use for the next statement that is executed. The tag is automatically
 cleared after the statement is executed. Statement tags can be used both with autocommit=true
 and autocommit=false, and can be used for partitioned DML.

 <p>Statement tags are not allowed before COMMIT and ROLLBACK statements.

 <p>Statement tags are allowed before START BATCH DML statements and will be included in the
 <a href="../../../spanner/v1/ExecuteBatchDmlRequest.html" title="class in com.google.spanner.v1"><code>ExecuteBatchDmlRequest</code></a> that is sent to Spanner. Statement tags are not allowed inside a
 batch.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tag</code> - The statement tag to use with the next statement that will be executed on this
     connection.</dd>
</dl>
</li>
</ul>
<a id="getStatementTag()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatementTag</h4>
<pre class="methodSignature">default&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getStatementTag()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The statement tag that will be used with the next statement that is executed on this
     connection.</dd>
</dl>
</li>
</ul>
<a id="isRetryAbortsInternally()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRetryAbortsInternally</h4>
<pre class="methodSignature">boolean&nbsp;isRetryAbortsInternally()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this connection will automatically retry read/write transactions
     that abort. This method may only be called when the connection is in read/write
     transactional mode and no transaction has been started yet.</dd>
</dl>
</li>
</ul>
<a id="setRetryAbortsInternally(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRetryAbortsInternally</h4>
<pre class="methodSignature">void&nbsp;setRetryAbortsInternally&#8203;(boolean&nbsp;retryAbortsInternally)</pre>
<div class="block">Sets whether this connection will internally retry read/write transactions that abort. The
 default is <code>true</code>. When internal retry is enabled, the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> will keep
 track of a running SHA256 checksum of all <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>s that have been returned from Cloud
 Spanner. If the checksum that is calculated during an internal retry differs from the original
 checksum, the transaction will abort with an <a href="../AbortedDueToConcurrentModificationException.html" title="class in com.google.cloud.spanner"><code>AbortedDueToConcurrentModificationException</code></a>.

 <p>Note that retries of a read/write transaction that calls a non-deterministic function on
 Cloud Spanner, such as CURRENT_TIMESTAMP(), will never be successful, as the data returned
 during the retry will always be different from the original transaction.

 <p>It is also highly recommended that all queries in a read/write transaction have an ORDER BY
 clause that guarantees that the data is returned in the same order as in the original
 transaction if the transaction is internally retried. The most efficient way to achieve this is
 to always include the primary key columns at the end of the ORDER BY clause.

 <p>This method may only be called when the connection is in read/write transactional mode and
 no transaction has been started yet.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>retryAbortsInternally</code> - Set to <code>true</code> to internally retry transactions that are
     aborted by Spanner. When set to <code>false</code>, any database call on a transaction that
     has been aborted by Cloud Spanner will throw an <a href="../AbortedException.html" title="class in com.google.cloud.spanner"><code>AbortedException</code></a> instead of being
     retried. Set this to false if your application already uses retry loops to handle <a href="../AbortedException.html" title="class in com.google.cloud.spanner"><code>AbortedException</code></a>s.</dd>
</dl>
</li>
</ul>
<a id="addTransactionRetryListener(com.google.cloud.spanner.connection.TransactionRetryListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTransactionRetryListener</h4>
<pre class="methodSignature">void&nbsp;addTransactionRetryListener&#8203;(<a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection">TransactionRetryListener</a>&nbsp;listener)</pre>
<div class="block">Add a <a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection"><code>TransactionRetryListener</code></a> to this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> for testing and logging
 purposes. The method <a href="TransactionRetryListener.html#retryStarting(com.google.cloud.Timestamp,long,int)"><code>TransactionRetryListener.retryStarting(Timestamp, long, int)</code></a> will
 be called before an automatic retry is started for a read/write transaction on this connection.
 The method <a href="TransactionRetryListener.html#retryFinished(com.google.cloud.Timestamp,long,int,com.google.cloud.spanner.connection.TransactionRetryListener.RetryResult)"><code>TransactionRetryListener.retryFinished(Timestamp, long, int,
 TransactionRetryListener.RetryResult)</code></a> will be called after the retry has finished.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The listener to add to this connection.</dd>
</dl>
</li>
</ul>
<a id="removeTransactionRetryListener(com.google.cloud.spanner.connection.TransactionRetryListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeTransactionRetryListener</h4>
<pre class="methodSignature">boolean&nbsp;removeTransactionRetryListener&#8203;(<a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection">TransactionRetryListener</a>&nbsp;listener)</pre>
<div class="block">Removes one existing <a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection"><code>TransactionRetryListener</code></a> from this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>, if it is
 present (optional operation).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - The listener to remove from the connection.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a listener was removed from the connection.</dd>
</dl>
</li>
</ul>
<a id="getTransactionRetryListeners()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionRetryListeners</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util" class="externalLink">Iterator</a>&lt;<a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection">TransactionRetryListener</a>&gt;&nbsp;getTransactionRetryListeners()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an unmodifiable iterator of the <a href="TransactionRetryListener.html" title="interface in com.google.cloud.spanner.connection"><code>TransactionRetryListener</code></a>s registered for this
     connection.</dd>
</dl>
</li>
</ul>
<a id="setAutocommitDmlMode(com.google.cloud.spanner.connection.AutocommitDmlMode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutocommitDmlMode</h4>
<pre class="methodSignature">void&nbsp;setAutocommitDmlMode&#8203;(<a href="AutocommitDmlMode.html" title="enum in com.google.cloud.spanner.connection">AutocommitDmlMode</a>&nbsp;mode)</pre>
<div class="block">Sets the mode for executing DML statements in autocommit mode for this connection. This setting
 is only used when the connection is in autocommit mode, and may only be set while the
 transaction is in autocommit mode and not in a temporary transaction. The autocommit
 transaction mode is reset to its default value of <a href="AutocommitDmlMode.html#TRANSACTIONAL"><code>AutocommitDmlMode.TRANSACTIONAL</code></a> when
 autocommit mode is changed on the connection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - The DML autocommit mode to use
     <ul>
       <li><a href="AutocommitDmlMode.html#TRANSACTIONAL"><code>AutocommitDmlMode.TRANSACTIONAL</code></a> DML statements are executed as single
           read-write transaction. After successful execution, the DML statement is guaranteed
           to have been applied exactly once to the database
       <li><a href="AutocommitDmlMode.html#PARTITIONED_NON_ATOMIC"><code>AutocommitDmlMode.PARTITIONED_NON_ATOMIC</code></a> DML statements are executed as
           partitioned DML transactions. If an error occurs during the execution of the DML
           statement, it is possible that the statement has been applied to some but not all of
           the rows specified in the statement.
     </ul></dd>
</dl>
</li>
</ul>
<a id="getAutocommitDmlMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAutocommitDmlMode</h4>
<pre class="methodSignature"><a href="AutocommitDmlMode.html" title="enum in com.google.cloud.spanner.connection">AutocommitDmlMode</a>&nbsp;getAutocommitDmlMode()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current <a href="AutocommitDmlMode.html" title="enum in com.google.cloud.spanner.connection"><code>AutocommitDmlMode</code></a> setting for this connection. This method may only
     be called on a connection that is in autocommit mode and not while in a temporary
     transaction.</dd>
</dl>
</li>
</ul>
<a id="setReadOnlyStaleness(com.google.cloud.spanner.TimestampBound)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadOnlyStaleness</h4>
<pre class="methodSignature">void&nbsp;setReadOnlyStaleness&#8203;(<a href="../TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;staleness)</pre>
<div class="block">Sets the staleness to use for the current read-only transaction. This method may only be called
 when the transaction mode of the current transaction is <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a> and there is no transaction that has started, or when
 the connection is in read-only and autocommit mode.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>staleness</code> - The staleness to use for the current but not yet started read-only transaction</dd>
</dl>
</li>
</ul>
<a id="getReadOnlyStaleness()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadOnlyStaleness</h4>
<pre class="methodSignature"><a href="../TimestampBound.html" title="class in com.google.cloud.spanner">TimestampBound</a>&nbsp;getReadOnlyStaleness()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the read-only staleness setting for the current read-only transaction. This method may
     only be called when the current transaction is a read-only transaction, or when the
     connection is in read-only and autocommit mode.</dd>
</dl>
</li>
</ul>
<a id="setOptimizerVersion(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOptimizerVersion</h4>
<pre class="methodSignature">void&nbsp;setOptimizerVersion&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;optimizerVersion)</pre>
<div class="block">Sets the query optimizer version to use for this connection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>optimizerVersion</code> - The query optimizer version to use. Must be a valid optimizer version
     number, the string <code>LATEST</code> or an empty string. The empty string will instruct
     the connection to use the optimizer version that is defined in the environment variable
     <code>SPANNER_OPTIMIZER_VERSION</code>. If no value is specified in the environment
     variable, the default query optimizer of Cloud Spanner is used.</dd>
</dl>
</li>
</ul>
<a id="getOptimizerVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOptimizerVersion</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getOptimizerVersion()</pre>
<div class="block">Gets the current query optimizer version of this connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The query optimizer version that is currently used by this connection.</dd>
</dl>
</li>
</ul>
<a id="setOptimizerStatisticsPackage(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOptimizerStatisticsPackage</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;setOptimizerStatisticsPackage&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;optimizerStatisticsPackage)</pre>
<div class="block">Sets the query optimizer statistics package</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>optimizerStatisticsPackage</code> - The query optimizer statistics package to use. Must be a
     string composed of letters, numbers, dashes and underscores or an empty string. The empty
     string will instruct the connection to use the optimizer statistics package that is defined
     the environment variable <code>SPANNER_OPTIMIZER_STATISTICS_PACKAGE</code>. If no value is
     specified in the environment variable, the client level query optimizer is used. If none is
     set, the default query optimizer of Cloud Spanner is used.</dd>
</dl>
</li>
</ul>
<a id="getOptimizerStatisticsPackage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOptimizerStatisticsPackage</h4>
<pre class="methodSignature">default&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getOptimizerStatisticsPackage()</pre>
<div class="block">Gets the current query optimizer statistics package of this connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The query optimizer statistics package that is currently used by this connection.</dd>
</dl>
</li>
</ul>
<a id="setReturnCommitStats(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReturnCommitStats</h4>
<pre class="methodSignature">void&nbsp;setReturnCommitStats&#8203;(boolean&nbsp;returnCommitStats)</pre>
<div class="block">Sets whether this connection should request commit statistics from Cloud Spanner for read/write
 transactions and DML statements in autocommit mode.</div>
</li>
</ul>
<a id="isReturnCommitStats()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReturnCommitStats</h4>
<pre class="methodSignature">boolean&nbsp;isReturnCommitStats()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this connection requests commit statistics from Cloud Spanner</dd>
</dl>
</li>
</ul>
<a id="setRPCPriority(com.google.cloud.spanner.Options.RpcPriority)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRPCPriority</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;setRPCPriority&#8203;(<a href="../Options.RpcPriority.html" title="enum in com.google.cloud.spanner">Options.RpcPriority</a>&nbsp;rpcPriority)</pre>
<div class="block">Sets the priority to use for RPCs executed by this connection..</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rpcPriority</code> - The RPC priority to use.
     <ul>
       <li><a href="../Options.RpcPriority.html#HIGH"><code>Options.RpcPriority.HIGH</code></a> This specifies that the RPC's invocation will be of high
           priority.
       <li><a href="../Options.RpcPriority.html#MEDIUM"><code>Options.RpcPriority.MEDIUM</code></a> This specifies that the RPC's invocation will be of medium
           priority.
       <li><a href="../Options.RpcPriority.html#LOW"><code>Options.RpcPriority.LOW</code></a> This specifies that the RPC's invocation will be of low
           priority.
     </ul></dd>
</dl>
</li>
</ul>
<a id="getRPCPriority()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRPCPriority</h4>
<pre class="methodSignature">default&nbsp;<a href="../Options.RpcPriority.html" title="enum in com.google.cloud.spanner">Options.RpcPriority</a>&nbsp;getRPCPriority()</pre>
<div class="block">Gets the current RPC priority of this connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The RPC priority that is currently used by this connection.</dd>
</dl>
</li>
</ul>
<a id="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre class="methodSignature">void&nbsp;commit()</pre>
<div class="block">Commits the current transaction of this connection. All mutations that have been buffered
 during the current transaction will be written to the database.

 <p>If the connection is in autocommit mode, and there is a temporary transaction active on this
 connection, calling this method will cause the connection to go back to autocommit mode after
 calling this method.

 <p>This method will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> with code <a href="../ErrorCode.html#DEADLINE_EXCEEDED"><code>ErrorCode.DEADLINE_EXCEEDED</code></a> if a statement timeout has been set on this connection, and the
 commit operation takes longer than this timeout.

 <ul>
   <li>Calling this method on a connection in autocommit mode and with no temporary transaction,
       will cause an exception
   <li>Calling this method while a DDL batch is active will cause an exception
   <li>Calling this method on a connection with a transaction that has not yet started, will end
       that transaction and any properties that might have been set on that transaction, and
       return the connection to its previous state. This means that if a transaction is created
       and set to read-only, and then committed before any statements have been executed, the
       read-only transaction is ended and any subsequent statements will be executed in a new
       transaction. If the connection is in read-write mode, the default for new transactions
       will be <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>. Committing an empty transaction
       also does not generate a read timestamp or a commit timestamp, and calling one of the
       methods <a href="#getReadTimestamp()"><code>getReadTimestamp()</code></a> or <a href="#getCommitTimestamp()"><code>getCommitTimestamp()</code></a>
       will cause an exception.
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
       transaction will end that transaction. If the connection is in read-write mode, any
       subsequent transaction will by default be a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction, unless any following transaction is
       explicitly set to <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>
       transaction will send all buffered mutations to the database, commit any DML statements
       that have been executed during this transaction and end the transaction.
 </ul></div>
</li>
</ul>
<a id="commitAsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;commitAsync()</pre>
<div class="block">Commits the current transaction of this connection. All mutations that have been buffered
 during the current transaction will be written to the database.

 <p>This method is guaranteed to be non-blocking. The returned <code>ApiFuture</code> will be done
 when the transaction has committed or the commit has failed.

 <p>Calling this method will always end the current transaction and start a new transaction when
 the next statement is executed, regardless whether this commit call succeeded or failed. If the
 next statement(s) rely on the results of the transaction that is being committed, it is
 recommended to check the status of this commit by inspecting the value of the returned <code>ApiFuture</code> before executing the next statement, to ensure that the commit actually succeeded.

 <p>If the connection is in autocommit mode, and there is a temporary transaction active on this
 connection, calling this method will cause the connection to go back to autocommit mode after
 calling this method.

 <p>This method will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> with code <a href="../ErrorCode.html#DEADLINE_EXCEEDED"><code>ErrorCode.DEADLINE_EXCEEDED</code></a> if a statement timeout has been set on this connection, and the
 commit operation takes longer than this timeout.

 <ul>
   <li>Calling this method on a connection in autocommit mode and with no temporary transaction,
       will cause an exception
   <li>Calling this method while a DDL batch is active will cause an exception
   <li>Calling this method on a connection with a transaction that has not yet started, will end
       that transaction and any properties that might have been set on that transaction, and
       return the connection to its previous state. This means that if a transaction is created
       and set to read-only, and then committed before any statements have been executed, the
       read-only transaction is ended and any subsequent statements will be executed in a new
       transaction. If the connection is in read-write mode, the default for new transactions
       will be <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>. Committing an empty transaction
       also does not generate a read timestamp or a commit timestamp, and calling one of the
       methods <a href="#getReadTimestamp()"><code>getReadTimestamp()</code></a> or <a href="#getCommitTimestamp()"><code>getCommitTimestamp()</code></a>
       will cause an exception.
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
       transaction will end that transaction. If the connection is in read-write mode, any
       subsequent transaction will by default be a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction, unless any following transaction is
       explicitly set to <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>
       transaction will send all buffered mutations to the database, commit any DML statements
       that have been executed during this transaction and end the transaction.
 </ul></div>
</li>
</ul>
<a id="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre class="methodSignature">void&nbsp;rollback()</pre>
<div class="block">Rollbacks the current transaction of this connection. All mutations or DDL statements that have
 been buffered during the current transaction will be removed from the buffer.

 <p>If the connection is in autocommit mode, and there is a temporary transaction active on this
 connection, calling this method will cause the connection to go back to autocommit mode after
 calling this method.

 <ul>
   <li>Calling this method on a connection in autocommit mode and with no temporary transaction
       will cause an exception
   <li>Calling this method while a DDL batch is active will cause an exception
   <li>Calling this method on a connection with a transaction that has not yet started, will end
       that transaction and any properties that might have been set on that transaction, and
       return the connection to its previous state. This means that if a transaction is created
       and set to read-only, and then rolled back before any statements have been executed, the
       read-only transaction is ended and any subsequent statements will be executed in a new
       transaction. If the connection is in read-write mode, the default for new transactions
       will be <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>.
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
       transaction will end that transaction. If the connection is in read-write mode, any
       subsequent transaction will by default be a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction, unless any following transaction is
       explicitly set to <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>
       transaction will clear all buffered mutations, rollback any DML statements that have been
       executed during this transaction and end the transaction.
 </ul></div>
</li>
</ul>
<a id="rollbackAsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;rollbackAsync()</pre>
<div class="block">Rollbacks the current transaction of this connection. All mutations or DDL statements that have
 been buffered during the current transaction will be removed from the buffer.

 <p>This method is guaranteed to be non-blocking. The returned <code>ApiFuture</code> will be done
 when the transaction has been rolled back.

 <p>If the connection is in autocommit mode, and there is a temporary transaction active on this
 connection, calling this method will cause the connection to go back to autocommit mode after
 calling this method.

 <ul>
   <li>Calling this method on a connection in autocommit mode and with no temporary transaction
       will cause an exception
   <li>Calling this method while a DDL batch is active will cause an exception
   <li>Calling this method on a connection with a transaction that has not yet started, will end
       that transaction and any properties that might have been set on that transaction, and
       return the connection to its previous state. This means that if a transaction is created
       and set to read-only, and then rolled back before any statements have been executed, the
       read-only transaction is ended and any subsequent statements will be executed in a new
       transaction. If the connection is in read-write mode, the default for new transactions
       will be <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>.
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
       transaction will end that transaction. If the connection is in read-write mode, any
       subsequent transaction will by default be a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction, unless any following transaction is
       explicitly set to <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
   <li>Calling this method on a connection with a <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>
       transaction will clear all buffered mutations, rollback any DML statements that have been
       executed during this transaction and end the transaction.
 </ul></div>
</li>
</ul>
<a id="getSavepointSupport()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSavepointSupport</h4>
<pre class="methodSignature"><a href="SavepointSupport.html" title="enum in com.google.cloud.spanner.connection">SavepointSupport</a>&nbsp;getSavepointSupport()</pre>
<div class="block">Returns the current savepoint support for this connection.</div>
</li>
</ul>
<a id="setSavepointSupport(com.google.cloud.spanner.connection.SavepointSupport)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSavepointSupport</h4>
<pre class="methodSignature">void&nbsp;setSavepointSupport&#8203;(<a href="SavepointSupport.html" title="enum in com.google.cloud.spanner.connection">SavepointSupport</a>&nbsp;savepointSupport)</pre>
<div class="block">Sets how savepoints should be supported on this connection.</div>
</li>
</ul>
<a id="savepoint(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savepoint</h4>
<pre class="methodSignature">void&nbsp;savepoint&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block">Creates a savepoint with the given name.

 <p>The uniqueness constraints on a savepoint name depends on the database dialect that is used:

 <ul>
   <li><a href="../Dialect.html#GOOGLE_STANDARD_SQL"><code>Dialect.GOOGLE_STANDARD_SQL</code></a> requires that savepoint names are unique within a
       transaction. The name of a savepoint that has been released or destroyed because the
       transaction has rolled back to a savepoint that was defined before that savepoint can be
       re-used within the transaction.
   <li><a href="../Dialect.html#POSTGRESQL"><code>Dialect.POSTGRESQL</code></a> follows the rules for savepoint names in PostgreSQL. This
       means that multiple savepoints in one transaction can have the same name, but only the
       last savepoint with a given name is visible. See <a href="https://www.postgresql.org/docs/current/sql-savepoint.html">PostgreSQL savepoint
       documentation</a> for more information.
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the savepoint to create</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if a savepoint with the same name already exists and the dialect that
     is used is <a href="../Dialect.html#GOOGLE_STANDARD_SQL"><code>Dialect.GOOGLE_STANDARD_SQL</code></a></dd>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if there is no transaction on this connection</dd>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if internal retries have been disabled for this connection</dd>
</dl>
</li>
</ul>
<a id="releaseSavepoint(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseSavepoint</h4>
<pre class="methodSignature">void&nbsp;releaseSavepoint&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block">Releases the savepoint with the given name. The savepoint and all later savepoints will be
 removed from the current transaction and can no longer be used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the savepoint to release</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if no savepoint with the given name exists</dd>
</dl>
</li>
</ul>
<a id="rollbackToSavepoint(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackToSavepoint</h4>
<pre class="methodSignature">void&nbsp;rollbackToSavepoint&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</pre>
<div class="block">Rolls back to the given savepoint. Rolling back to a savepoint undoes all changes and releases
 all internal locks that have been taken by the transaction after the savepoint. Rolling back to
 a savepoint does not remove the savepoint from the transaction, and it is possible to roll back
 to the same savepoint multiple times. All savepoints that have been defined after the given
 savepoint are removed from the transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the savepoint to roll back to.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if no savepoint with the given name exists.</dd>
<dd><code><a href="../AbortedDueToConcurrentModificationException.html" title="class in com.google.cloud.spanner">AbortedDueToConcurrentModificationException</a></code> - if rolling back to the savepoint failed
     because another transaction has modified the data that has been read or modified by this
     transaction</dd>
</dl>
</li>
</ul>
<a id="isInTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInTransaction</h4>
<pre class="methodSignature">boolean&nbsp;isInTransaction()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this connection has a transaction (that has not necessarily
     started). This method will only return false when the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is in autocommit
     mode and no explicit transaction has been started by calling <a href="#beginTransaction()"><code>beginTransaction()</code></a>. If the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is not in autocommit mode, there
     will always be a transaction.</dd>
</dl>
</li>
</ul>
<a id="isTransactionStarted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTransactionStarted</h4>
<pre class="methodSignature">boolean&nbsp;isTransactionStarted()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this connection has a transaction that has started. A transaction
     is automatically started by the first statement that is executed in the transaction.</dd>
</dl>
</li>
</ul>
<a id="getReadTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadTimestamp</h4>
<pre class="methodSignature">com.google.cloud.Timestamp&nbsp;getReadTimestamp()</pre>
<div class="block">Returns the read timestamp of the current/last <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>
 transaction, or the read timestamp of the last query in autocommit mode.

 <ul>
   <li>When in autocommit mode: The method will return the read timestamp of the last statement
       if the last statement was a query.
   <li>When in a <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a> transaction that has started (a
       query has been executed), or that has just committed: The read timestamp of the
       transaction. If the read-only transaction was committed without ever executing a query,
       calling this method after the commit will also throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>
   <li>In all other cases the method will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>.
 </ul></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the read timestamp of the current/last read-only transaction.</dd>
</dl>
</li>
</ul>
<a id="getCommitTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitTimestamp</h4>
<pre class="methodSignature">com.google.cloud.Timestamp&nbsp;getCommitTimestamp()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the commit timestamp of the last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>
     transaction. This method throws a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> if there is no last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction. That is, if the last transaction was a
     <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>), or if the last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction rolled back. It also throws a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> if the last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction
     was empty when committed.</dd>
</dl>
</li>
</ul>
<a id="getCommitResponse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitResponse</h4>
<pre class="methodSignature"><a href="../CommitResponse.html" title="class in com.google.cloud.spanner">CommitResponse</a>&nbsp;getCommitResponse()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../CommitResponse.html" title="class in com.google.cloud.spanner"><code>CommitResponse</code></a> of the last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a>
     transaction. This method throws a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> if there is no last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction. That is, if the last transaction was a
     <a href="TransactionMode.html#READ_ONLY_TRANSACTION"><code>TransactionMode.READ_ONLY_TRANSACTION</code></a>), or if the last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction rolled back. It also throws a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a> if the last <a href="TransactionMode.html#READ_WRITE_TRANSACTION"><code>TransactionMode.READ_WRITE_TRANSACTION</code></a> transaction
     was empty when committed.</dd>
</dl>
</li>
</ul>
<a id="startBatchDdl()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startBatchDdl</h4>
<pre class="methodSignature">void&nbsp;startBatchDdl()</pre>
<div class="block">Starts a new DDL batch on this connection. A DDL batch allows several DDL statements to be
 grouped into a batch that can be executed as a group. DDL statements that are issued during the
 batch are buffered locally and will return immediately with an OK. It is not guaranteed that a
 DDL statement that has been issued during a batch will eventually succeed when running the
 batch. Aborting a DDL batch will clear the DDL buffer and will have made no changes to the
 database. Running a DDL batch will send all buffered DDL statements to Spanner, and Spanner
 will try to execute these. The result will be OK if all the statements executed successfully.
 If a statement cannot be executed, Spanner will stop execution at that point and return an
 error message for the statement that could not be executed. Preceding statements of the batch
 may have been executed.

 <p>This method may only be called when the connection is in read/write mode, autocommit mode is
 enabled or no read/write transaction has been started, and there is not already another batch
 active. The connection will only accept DDL statements while a DDL batch is active.</div>
</li>
</ul>
<a id="startBatchDml()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startBatchDml</h4>
<pre class="methodSignature">void&nbsp;startBatchDml()</pre>
<div class="block">Starts a new DML batch on this connection. A DML batch allows several DML statements to be
 grouped into a batch that can be executed as a group. DML statements that are issued during the
 batch are buffered locally and will return immediately with an OK. It is not guaranteed that a
 DML statement that has been issued during a batch will eventually succeed when running the
 batch. Aborting a DML batch will clear the DML buffer and will have made no changes to the
 database. Running a DML batch will send all buffered DML statements to Spanner, and Spanner
 will try to execute these. The result will be OK if all the statements executed successfully.
 If a statement cannot be executed, Spanner will stop execution at that point and return <a href="../SpannerBatchUpdateException.html" title="class in com.google.cloud.spanner"><code>SpannerBatchUpdateException</code></a> for the statement that could not be executed. Preceding statements
 of the batch will have been executed, and the update counts of those statements can be
 retrieved through <a href="../SpannerBatchUpdateException.html#getUpdateCounts()"><code>SpannerBatchUpdateException.getUpdateCounts()</code></a>.

 <p>This method may only be called when the connection is in read/write mode, autocommit mode is
 enabled or no read/write transaction has been started, and there is not already another batch
 active. The connection will only accept DML statements while a DML batch is active.</div>
</li>
</ul>
<a id="runBatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runBatch</h4>
<pre class="methodSignature">long[]&nbsp;runBatch()</pre>
<div class="block">Sends all buffered DML or DDL statements of the current batch to the database, waits for these
 to be executed and ends the current batch. The method will throw an exception for the first
 statement that cannot be executed, or return successfully if all statements could be executed.
 If an exception is thrown for a statement in the batch, the preceding statements in the same
 batch may still have been applied to the database.

 <p>This method may only be called when a (possibly empty) batch is active.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the update counts in case of a DML batch. Returns an array containing 1 for each
     successful statement and 0 for each failed statement or statement that was not executed in
     case of a DDL batch.</dd>
</dl>
</li>
</ul>
<a id="runBatchAsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runBatchAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;long[]&gt;&nbsp;runBatchAsync()</pre>
<div class="block">Sends all buffered DML or DDL statements of the current batch to the database, waits for these
 to be executed and ends the current batch. The method will throw an exception for the first
 statement that cannot be executed, or return successfully if all statements could be executed.
 If an exception is thrown for a statement in the batch, the preceding statements in the same
 batch may still have been applied to the database.

 <p>This method is guaranteed to be non-blocking. The returned <code>ApiFuture</code> will be done
 when the batch has been successfully applied, or when one or more of the statements in the
 batch has failed and the further execution of the batch has been halted.

 <p>This method may only be called when a (possibly empty) batch is active.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>ApiFuture</code> containing the update counts in case of a DML batch. The <code>ApiFuture</code> contains an array containing 1 for each successful statement and 0 for each
     failed statement or statement that was not executed in case of a DDL batch.</dd>
</dl>
</li>
</ul>
<a id="abortBatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortBatch</h4>
<pre class="methodSignature">void&nbsp;abortBatch()</pre>
<div class="block">Clears all buffered statements in the current batch and ends the batch.

 <p>This method may only be called when a (possibly empty) batch is active.</div>
</li>
</ul>
<a id="isDdlBatchActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDdlBatchActive</h4>
<pre class="methodSignature">boolean&nbsp;isDdlBatchActive()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a DDL batch is active on this connection.</dd>
</dl>
</li>
</ul>
<a id="isDmlBatchActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDmlBatchActive</h4>
<pre class="methodSignature">boolean&nbsp;isDmlBatchActive()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a DML batch is active on this connection.</dd>
</dl>
</li>
</ul>
<a id="execute(com.google.cloud.spanner.Statement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre class="methodSignature"><a href="StatementResult.html" title="interface in com.google.cloud.spanner.connection">StatementResult</a>&nbsp;execute&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement)</pre>
<div class="block">Executes the given statement if allowed in the current <a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection"><code>TransactionMode</code></a> and connection
 state. The returned value depends on the type of statement:

 <ul>
   <li>Queries and DML statements with returning clause will return a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>.
   <li>Simple DML statements will return an update count
   <li>DDL statements will return a <a href="StatementResult.ResultType.html#NO_RESULT"><code>StatementResult.ResultType.NO_RESULT</code></a>
   <li>Connection and transaction statements (SET AUTOCOMMIT=TRUE|FALSE, SHOW AUTOCOMMIT, SET
       TRANSACTION READ ONLY, etc) will return either a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a> or <a href="StatementResult.ResultType.html#NO_RESULT"><code>StatementResult.ResultType.NO_RESULT</code></a>, depending on the type of statement (SHOW or SET)
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statement</code> - The statement to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the statement</dd>
</dl>
</li>
</ul>
<a id="executeAsync(com.google.cloud.spanner.Statement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeAsync</h4>
<pre class="methodSignature"><a href="AsyncStatementResult.html" title="interface in com.google.cloud.spanner.connection">AsyncStatementResult</a>&nbsp;executeAsync&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement)</pre>
<div class="block">Executes the given statement if allowed in the current <a href="TransactionMode.html" title="enum in com.google.cloud.spanner.connection"><code>TransactionMode</code></a> and connection
 state asynchronously. The returned value depends on the type of statement:

 <ul>
   <li>Queries and DML statements with returning clause will return an <a href="../AsyncResultSet.html" title="interface in com.google.cloud.spanner"><code>AsyncResultSet</code></a>.
   <li>Simple DML statements will return an <code>ApiFuture</code> with an update count that is done
       when the DML statement has been applied successfully, or that throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>ExecutionException</code></a> if the DML statement failed.
   <li>DDL statements will return an <code>ApiFuture</code> containing a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Void</code></a> that is done
       when the DDL statement has been applied successfully, or that throws an <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>ExecutionException</code></a> if the DDL statement failed.
   <li>Connection and transaction statements (SET AUTOCOMMIT=TRUE|FALSE, SHOW AUTOCOMMIT, SET
       TRANSACTION READ ONLY, etc) will return either a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a> or <a href="StatementResult.ResultType.html#NO_RESULT"><code>StatementResult.ResultType.NO_RESULT</code></a>, depending on the type of statement (SHOW or SET)
 </ul>

 This method is guaranteed to be non-blocking.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statement</code> - The statement to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the statement</dd>
</dl>
</li>
</ul>
<a id="executeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeQuery</h4>
<pre class="methodSignature"><a href="../ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a>&nbsp;executeQuery&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;query,
                       <a href="../Options.QueryOption.html" title="interface in com.google.cloud.spanner">Options.QueryOption</a>...&nbsp;options)</pre>
<div class="block">Executes the given statement (a query or a DML statement with returning clause) and returns the
 result as a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>. This method blocks and waits for a response from Spanner. If the
 statement does not contain a valid query or a DML statement with returning clause, the method
 will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The query statement or DML statement with returning clause to execute</dd>
<dd><code>options</code> - the options to configure the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a> with the results of the statement</dd>
</dl>
</li>
</ul>
<a id="executeQueryAsync(com.google.cloud.spanner.Statement,com.google.cloud.spanner.Options.QueryOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeQueryAsync</h4>
<pre class="methodSignature"><a href="../AsyncResultSet.html" title="interface in com.google.cloud.spanner">AsyncResultSet</a>&nbsp;executeQueryAsync&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;query,
                                 <a href="../Options.QueryOption.html" title="interface in com.google.cloud.spanner">Options.QueryOption</a>...&nbsp;options)</pre>
<div class="block">Executes the given statement (a query or a DML statement with returning clause) asynchronously
 and returns the result as an <a href="../AsyncResultSet.html" title="interface in com.google.cloud.spanner"><code>AsyncResultSet</code></a>. This method is guaranteed to be
 non-blocking. If the statement does not contain a valid query or a DML statement with returning
 clause, the method will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>.

 <p>See <a href="../AsyncResultSet.html#setCallback(java.util.concurrent.Executor,com.google.cloud.spanner.AsyncResultSet.ReadyCallback)"><code>AsyncResultSet.setCallback(java.util.concurrent.Executor,
 com.google.cloud.spanner.AsyncResultSet.ReadyCallback)</code></a> for more information on how to consume
 the results of the statement asynchronously.

 <p>It is also possible to consume the returned <a href="../AsyncResultSet.html" title="interface in com.google.cloud.spanner"><code>AsyncResultSet</code></a> in the same way as a
 normal <a href="../ResultSet.html" title="interface in com.google.cloud.spanner"><code>ResultSet</code></a>, i.e. in a while-loop calling <a href="../ResultSet.html#next()"><code>ResultSet.next()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The query statement or DML statement with returning clause to execute</dd>
<dd><code>options</code> - the options to configure the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <a href="../AsyncResultSet.html" title="interface in com.google.cloud.spanner"><code>AsyncResultSet</code></a> with the results of the statement</dd>
</dl>
</li>
</ul>
<a id="analyzeQuery(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeQuery</h4>
<pre class="methodSignature"><a href="../ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a>&nbsp;analyzeQuery&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;query,
                       <a href="../ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;queryMode)</pre>
<div class="block">Analyzes a query or a DML statement and returns query plan and/or query execution statistics
 information.

 <p>The query plan and query statistics information is contained in <a href="../../../spanner/v1/ResultSetStats.html" title="class in com.google.spanner.v1"><code>ResultSetStats</code></a> that can be accessed by calling <a href="../ResultSet.html#getStats()"><code>ResultSet.getStats()</code></a> on the returned <code>ResultSet</code>.

 <pre>
 <!--SNIPPET connection_analyze_query-->
 <code>
 ResultSet resultSet =
     connection.analyzeQuery(
         Statement.of("SELECT SingerId, AlbumId, MarketingBudget FROM Albums"),
         ReadContext.QueryAnalyzeMode.PROFILE);
 while (resultSet.next()) {
   // Discard the results. We're only processing because getStats() below requires it.
 }
 ResultSetStats stats = resultSet.getStats();
 </code>
 <!--SNIPPET connection_analyze_query-->
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - the query statement to execute</dd>
<dd><code>queryMode</code> - the mode in which to execute the query</dd>
</dl>
</li>
</ul>
<a id="executeUpdate(com.google.cloud.spanner.Statement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUpdate</h4>
<pre class="methodSignature">long&nbsp;executeUpdate&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;update)</pre>
<div class="block">Executes the given statement as a simple DML statement. If the statement does not contain a
 valid DML statement, the method will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>update</code> - The update statement to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of records that were inserted/updated/deleted by this statement</dd>
</dl>
</li>
</ul>
<a id="analyzeUpdate(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeUpdate</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang" class="externalLink">@Deprecated</a>
default&nbsp;<a href="../../../spanner/v1/ResultSetStats.html" title="class in com.google.spanner.v1">ResultSetStats</a>&nbsp;analyzeUpdate&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;update,
                                     <a href="../ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Use <a href="#analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)"><code>analyzeUpdateStatement(Statement, QueryAnalyzeMode, UpdateOption...)</code></a>
     instead</div>
</div>
<div class="block">Analyzes a DML statement and returns query plan and/or execution statistics information.

 <p><a href="../ReadContext.QueryAnalyzeMode.html#PLAN"><code>ReadContext.QueryAnalyzeMode.PLAN</code></a> only returns the plan for
 the statement. <a href="../ReadContext.QueryAnalyzeMode.html#PROFILE"><code>ReadContext.QueryAnalyzeMode.PROFILE</code></a> executes
 the DML statement, returns the modified row count and execution statistics, and the effects of
 the DML statement will be visible to subsequent operations in the transaction.</div>
</li>
</ul>
<a id="analyzeUpdateStatement(com.google.cloud.spanner.Statement,com.google.cloud.spanner.ReadContext.QueryAnalyzeMode,com.google.cloud.spanner.Options.UpdateOption...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeUpdateStatement</h4>
<pre class="methodSignature">default&nbsp;<a href="../ResultSet.html" title="interface in com.google.cloud.spanner">ResultSet</a>&nbsp;analyzeUpdateStatement&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;statement,
                                         <a href="../ReadContext.QueryAnalyzeMode.html" title="enum in com.google.cloud.spanner">ReadContext.QueryAnalyzeMode</a>&nbsp;analyzeMode,
                                         <a href="../Options.UpdateOption.html" title="interface in com.google.cloud.spanner">Options.UpdateOption</a>...&nbsp;options)</pre>
<div class="block">Analyzes a DML statement and returns execution plan, undeclared parameters and optionally
 execution statistics information.

 <p><a href="../ReadContext.QueryAnalyzeMode.html#PLAN"><code>ReadContext.QueryAnalyzeMode.PLAN</code></a> only returns the plan and
 undeclared parameters for the statement. <a href="../ReadContext.QueryAnalyzeMode.html#PROFILE"><code>ReadContext.QueryAnalyzeMode.PROFILE</code></a> also executes the DML statement,
 returns the modified row count and execution statistics, and the effects of the DML statement
 will be visible to subsequent operations in the transaction.</div>
</li>
</ul>
<a id="executeUpdateAsync(com.google.cloud.spanner.Statement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUpdateAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang" class="externalLink">Long</a>&gt;&nbsp;executeUpdateAsync&#8203;(<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&nbsp;update)</pre>
<div class="block">Executes the given statement asynchronously as a simple DML statement. If the statement does
 not contain a simple DML statement, the method will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>. A DML
 statement with returning clause will throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>.

 <p>This method is guaranteed to be non-blocking.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>update</code> - The update statement to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>ApiFuture</code> containing the number of records that were
     inserted/updated/deleted by this statement</dd>
</dl>
</li>
</ul>
<a id="executeBatchUpdate(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeBatchUpdate</h4>
<pre class="methodSignature">long[]&nbsp;executeBatchUpdate&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;updates)</pre>
<div class="block">Executes a list of DML statements (can be simple DML statements or DML statements with
 returning clause) in a single request. The statements will be executed in order and the
 semantics is the same as if each statement is executed by <a href="#executeUpdate(com.google.cloud.spanner.Statement)"><code>executeUpdate(Statement)</code></a> in a loop. This method returns an array of long integers,
 each representing the number of rows modified by each statement.

 <p>If an individual statement fails, execution stops and a <code>SpannerBatchUpdateException</code>
 is returned, which includes the error and the number of rows affected by the statements that
 are run prior to the error.

 <p>For example, if statements contains 3 statements, and the 2nd one is not a valid DML. This
 method throws a <code>SpannerBatchUpdateException</code> that contains the error message from the
 2nd statement, and an array of length 1 that contains the number of rows modified by the 1st
 statement. The 3rd statement will not run. Executes the given statements as DML statements in
 one batch. If one of the statements does not contain a valid DML statement, the method will
 throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updates</code> - The update statements that will be executed as one batch.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array containing the update counts per statement.</dd>
</dl>
</li>
</ul>
<a id="executeBatchUpdateAsync(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeBatchUpdateAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;long[]&gt;&nbsp;executeBatchUpdateAsync&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Statement.html" title="class in com.google.cloud.spanner">Statement</a>&gt;&nbsp;updates)</pre>
<div class="block">Executes a list of DML statements (can be simple DML statements or DML statements with
 returning clause) in a single request. The statements will be executed in order and the
 semantics is the same as if each statement is executed by <a href="#executeUpdate(com.google.cloud.spanner.Statement)"><code>executeUpdate(Statement)</code></a> in a loop. This method returns an <code>ApiFuture</code> that
 contains an array of long integers, each representing the number of rows modified by each
 statement.

 <p>This method is guaranteed to be non-blocking.

 <p>If an individual statement fails, execution stops and a <code>SpannerBatchUpdateException</code>
 is returned, which includes the error and the number of rows affected by the statements that
 are run prior to the error.

 <p>For example, if statements contains 3 statements, and the 2nd one is not a valid DML. This
 method throws a <code>SpannerBatchUpdateException</code> that contains the error message from the
 2nd statement, and an array of length 1 that contains the number of rows modified by the 1st
 statement. The 3rd statement will not run. Executes the given statements as DML statements in
 one batch. If one of the statements does not contain a valid DML statement, the method will
 throw a <a href="../SpannerException.html" title="class in com.google.cloud.spanner"><code>SpannerException</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updates</code> - The update statements that will be executed as one batch.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>ApiFuture</code> containing an array with the update counts per statement.</dd>
</dl>
</li>
</ul>
<a id="write(com.google.cloud.spanner.Mutation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre class="methodSignature">void&nbsp;write&#8203;(<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</pre>
<div class="block">Writes the specified mutation directly to the database and commits the change. The value is
 readable after the successful completion of this method. Writing multiple mutations to a
 database by calling this method multiple times mode is inefficient, as each call will need a
 round trip to the database. Instead, you should consider writing the mutations together by
 calling <a href="#write(java.lang.Iterable)"><code>write(Iterable)</code></a>.

 <p>Calling this method is only allowed in autocommit mode. See <a href="#bufferedWrite(java.lang.Iterable)"><code>bufferedWrite(Iterable)</code></a> for writing mutations in transactions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mutation</code> - The <a href="../Mutation.html" title="class in com.google.cloud.spanner"><code>Mutation</code></a> to write to the database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is not in autocommit mode</dd>
</dl>
</li>
</ul>
<a id="writeAsync(com.google.cloud.spanner.Mutation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;writeAsync&#8203;(<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</pre>
<div class="block">Writes the specified mutation directly to the database and commits the change. The value is
 readable after the successful completion of the returned <code>ApiFuture</code>. Writing multiple
 mutations to a database by calling this method multiple times mode is inefficient, as each call
 will need a round trip to the database. Instead, you should consider writing the mutations
 together by calling <a href="#writeAsync(java.lang.Iterable)"><code>writeAsync(Iterable)</code></a>.

 <p>This method is guaranteed to be non-blocking.

 <p>Calling this method is only allowed in autocommit mode. See <a href="#bufferedWrite(java.lang.Iterable)"><code>bufferedWrite(Iterable)</code></a> for writing mutations in transactions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mutation</code> - The <a href="../Mutation.html" title="class in com.google.cloud.spanner"><code>Mutation</code></a> to write to the database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is not in autocommit mode</dd>
</dl>
</li>
</ul>
<a id="write(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre class="methodSignature">void&nbsp;write&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</pre>
<div class="block">Writes the specified mutations directly to the database and commits the changes. The values are
 readable after the successful completion of this method.

 <p>Calling this method is only allowed in autocommit mode. See <a href="#bufferedWrite(java.lang.Iterable)"><code>bufferedWrite(Iterable)</code></a> for writing mutations in transactions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mutations</code> - The <a href="../Mutation.html" title="class in com.google.cloud.spanner"><code>Mutation</code></a>s to write to the database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is not in autocommit mode</dd>
</dl>
</li>
</ul>
<a id="writeAsync(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAsync</h4>
<pre class="methodSignature">com.google.api.core.ApiFuture&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang" class="externalLink">Void</a>&gt;&nbsp;writeAsync&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</pre>
<div class="block">Writes the specified mutations directly to the database and commits the changes. The values are
 readable after the successful completion of the returned <code>ApiFuture</code>.

 <p>This method is guaranteed to be non-blocking.

 <p>Calling this method is only allowed in autocommit mode. See <a href="#bufferedWrite(java.lang.Iterable)"><code>bufferedWrite(Iterable)</code></a> for writing mutations in transactions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mutations</code> - The <a href="../Mutation.html" title="class in com.google.cloud.spanner"><code>Mutation</code></a>s to write to the database</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is not in autocommit mode</dd>
</dl>
</li>
</ul>
<a id="bufferedWrite(com.google.cloud.spanner.Mutation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferedWrite</h4>
<pre class="methodSignature">void&nbsp;bufferedWrite&#8203;(<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&nbsp;mutation)</pre>
<div class="block">Buffers the given mutation locally on the current transaction of this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>. The
 mutation will be written to the database at the next call to <a href="#commit()"><code>commit()</code></a>. The
 value will not be readable on this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> before the transaction is committed.

 <p>Calling this method is only allowed when not in autocommit mode. See <a href="#write(com.google.cloud.spanner.Mutation)"><code>write(Mutation)</code></a> for writing mutations in autocommit mode.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mutation</code> - the <a href="../Mutation.html" title="class in com.google.cloud.spanner"><code>Mutation</code></a> to buffer for writing to the database on the next commit</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is in autocommit mode</dd>
</dl>
</li>
</ul>
<a id="bufferedWrite(java.lang.Iterable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferedWrite</h4>
<pre class="methodSignature">void&nbsp;bufferedWrite&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Iterable</a>&lt;<a href="../Mutation.html" title="class in com.google.cloud.spanner">Mutation</a>&gt;&nbsp;mutations)</pre>
<div class="block">Buffers the given mutations locally on the current transaction of this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>. The
 mutations will be written to the database at the next call to <a href="#commit()"><code>commit()</code></a>. The
 values will not be readable on this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> before the transaction is committed.

 <p>Calling this method is only allowed when not in autocommit mode. See <a href="#write(java.lang.Iterable)"><code>write(Iterable)</code></a> for writing mutations in autocommit mode.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mutations</code> - the <a href="../Mutation.html" title="class in com.google.cloud.spanner"><code>Mutation</code></a>s to buffer for writing to the database on the next commit</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../SpannerException.html" title="class in com.google.cloud.spanner">SpannerException</a></code> - if the <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a> is in autocommit mode</dd>
</dl>
</li>
</ul>
<a id="getDialect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDialect</h4>
<pre class="methodSignature">default&nbsp;<a href="../Dialect.html" title="enum in com.google.cloud.spanner">Dialect</a>&nbsp;getDialect()</pre>
<div class="block">The <a href="../Dialect.html" title="enum in com.google.cloud.spanner"><code>Dialect</code></a> that is used by this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</li>
</ul>
<a id="getDatabaseClient()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDatabaseClient</h4>
<pre class="methodSignature">@InternalApi
default&nbsp;<a href="../DatabaseClient.html" title="interface in com.google.cloud.spanner">DatabaseClient</a>&nbsp;getDatabaseClient()</pre>
<div class="block">The <a href="../DatabaseClient.html" title="interface in com.google.cloud.spanner"><code>DatabaseClient</code></a> that is used by this <a href="Connection.html" title="interface in com.google.cloud.spanner.connection"><code>Connection</code></a>.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Connection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 Google LLC. All rights reserved.</small></p>
</footer>
</body>
</html>
